(self.webpackChunkpage_builder=self.webpackChunkpage_builder||[]).push([[984],{3296:function(e,t,n){"use strict";n.d(t,{E:function(){return de}});var i=n(4468),o=n(1284),r=n(7836),s=n(3948),a=n(7540),c=n(1148),l=n(7992),d=n(8016),u=n.n(d),p=n(9576),g=n.n(p),f=n(9972),h=n(1748),m=n(7820),y=n(7780),b=n(6636);const v=(e,...t)=>Object.keys(e).filter((n=>{const{widgetRestrictions:i}=e[n];return t.some((e=>!(0,y.gT)(i,e)))})),k=(e,t)=>(n,i)=>{const{editableAreasConfiguration:o,widgets:r,zones:s,widgetZonesConfiguration:a,editableAreas:c,sections:l}=i(),d=r[e].type,p=s[t].widgets.indexOf(e),m=v(o,d),b=g()(l,u()(m,(e=>c[e].sections))),k=((e,t,n)=>{let i=Object.keys(e);return n&&(i=i.filter((e=>!n.includes(e)))),i.filter((n=>{const{widgetRestrictions:i}=e[n];return!(0,y.gT)(i,t)}))})(a,d,u()(Object.values(b),(e=>e.zones)));n((0,h.U3)(f.s.Widget,d,e,t,p,m,k))},w=(e,t)=>(n,i)=>{const{editableAreas:o,editableAreasConfiguration:r,sections:s,zones:a,widgets:c}=i(),l=s[e].type,d=o[t].sections.indexOf(e),u=((e,t,n,i)=>{const o=(0,b.Yh)(t.zones,n),r=m._k.getUniqueValues(o,(e=>i[e].type)),s=Object.keys(e).filter((n=>!(0,y.gT)(e[n].sectionRestrictions,t.type))),a=v(e,...r);return m._k.getUniqueValues([...s,...a])})(r,s[e],a,c);n((0,h.U3)(f.s.Section,l,e,t,d,u,[]))};var _=n(8724),S=n(3676),T=n(5208),O=n(655);let I;const A=(e,t,n)=>({makeOnDragStart:i=>o=>{t(i(o.source.id,o.sourceContainer.id)),C(),document.addEventListener("keyup",E(e,n,t)),window.addEventListener("message",M(e,n,t));const r=document.getElementById(o.source.id);(0,_.ID)(r),(0,S.postMessage)(O.MX.MESSAGING_DRAG_START,null,"*")},makeOnDragStop:i=>()=>{document.body.style.cursor="auto",I&&clearTimeout(I),document.addEventListener("keyup",E(e,n,t)),window.removeEventListener("message",M(e,n,t)),(0,S.postMessage)(O.MX.MESSAGING_DRAG_STOP,null,"*");const o=n().dragAndDrop;if(o.itemIdentifier){const e=document.getElementById(o.itemIdentifier);if((0,_.QB)(e),null!==o.dropMarkerPosition&&o.targetContainerIdentifier){const e=o.sourceContainerIdentifier===o.targetContainerIdentifier&&o.originalPosition<=o.dropMarkerPosition?o.dropMarkerPosition-1:o.dropMarkerPosition;t(i(o.itemIdentifier,o.sourceContainerIdentifier,o.targetContainerIdentifier,e))}t((0,T.uS)())}},onDragOver:e=>{const i=n();if(e.source.id===e.over.id&&null!==i.dragAndDrop.dropMarkerPosition){const{top:n,bottom:i}=e.over.getBoundingClientRect(),o=e.sensorEvent.clientY;o>=n&&o<=i?t((0,T.Ko)()):I&&clearTimeout(I)}e.over.id!==i.dragAndDrop.itemIdentifier&&I&&clearTimeout(I)},onDragContainerOver:e=>{const t=n(),i=e.overContainer.id,o=t.dragAndDrop.sourceContainerIdentifier;I&&i!==o&&clearTimeout(I)},onDragContainerOut:e=>{e.overContainer.id===n().dragAndDrop.targetContainerIdentifier&&(I=setTimeout((()=>t((0,T.Ko)())),a.wH))}}),C=()=>{document.body.style.cursor="move",document.body.style.cursor="grabbing",document.body.style.cursor="-moz-grabbing",document.body.style.cursor="-webkit-grabbing"},E=(e,t,n)=>i=>{27===i.which&&t().dragAndDrop.itemIdentifier&&P(e,n)},M=(e,t,n)=>i=>{i.data&&i.data.msg===O.MX.MESSAGING_DRAG_STOP&&t().dragAndDrop.itemIdentifier&&P(e,n)},P=(e,t)=>{t((0,T.uS)()),e.cancel()};var D=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};const j=Object.getOwnPropertySymbols(l.wf.Plugins.Mirror.prototype),L=["onMirrorCreated","onMirrorMove"].reduce(((e,t)=>(e[t]=j.find((e=>e.toString().includes(t))),e)),{});class x extends l.wf.Plugins.Mirror{[L.onMirrorCreated]({mirror:e,source:t,sensorEvent:n}){const i=this.draggable.getClassNamesFor("mirror");e.style.display="none";const o={mirror:e,mirrorClasses:i,sensorEvent:n,source:t,options:this.options,scrollOffset:this.scrollOffset,passedThreshX:!0,passedThreshY:!0};return Promise.resolve(o).then(z).then(W).then(R).then(U).then(H({initial:!0})).then(N).then((e=>{var{mirrorOffset:t,initialX:n,initialY:i}=e,o=D(e,["mirrorOffset","initialX","initialY"]);return this.mirrorOffset=t,this.initialX=n,this.initialY=i,this.lastMovedX=n,this.lastMovedY=i,Object.assign({mirrorOffset:t,initialX:n,initialY:i},o)}))}[L.onMirrorMove](e){if(e.canceled())return null;const t={initialX:this.initialX,initialY:this.initialY,mirror:e.mirror,mirrorOffset:this.mirrorOffset,options:this.options,scrollOffset:this.scrollOffset,sensorEvent:e.sensorEvent,passedThreshX:e.passedThreshX,passedThreshY:e.passedThreshY,lastMovedX:this.lastMovedX,lastMovedY:this.lastMovedY};return Promise.resolve(t).then(H({withFrame:!0})).then((e=>{var{lastMovedX:t,lastMovedY:n}=e,i=D(e,["lastMovedX","lastMovedY"]);return this.lastMovedX=t,this.lastMovedY=n,Object.assign({lastMovedX:t,lastMovedY:n},i)})).then((t=>{const n={source:e.source,originalSource:e.originalSource,sourceContainer:e.sourceContainer,sensorEvent:e.sensorEvent,dragEvent:e.dragEvent,mirror:this.mirror,passedThreshX:e.passedThreshX,passedThreshY:e.passedThreshY};return this.draggable.trigger(n),t}))}}function z(e){var{source:t}=e,n=D(e,["source"]);return B((e=>{const i=t.getBoundingClientRect();e(Object.assign({source:t,sourceRect:i},n))}))}function R(e){var{mirror:t,source:n,options:i}=e,o=D(e,["mirror","source","options"]);return B((e=>{let r,s;if(i.constrainDimensions){const e=getComputedStyle(n);r=e.getPropertyValue("height"),s=e.getPropertyValue("width")}t.style.display=null,t.style.position="fixed",t.style.pointerEvents="none",t.style.top=0,t.style.left=0,t.style.margin=0,t.style.transformOrigin="0 0",t.style.opacity="0.7",t.style.backgroundColor=function(e){if(!e)return;let t=e,n="white";for(;t;){const e=getComputedStyle(t).getPropertyValue("background-color");if("rgba(0, 0, 0, 0)"!==e&&"transparent"!==e){n=e;break}t=t.parentElement}return n}(t),i.constrainDimensions&&(t.style.height=r,t.style.width=s),e(Object.assign({mirror:t,source:n,options:i},o))}))}function W(e){var{sensorEvent:t,sourceRect:n,options:i}=e,o=D(e,["sensorEvent","sourceRect","options"]);return B((e=>{const r={top:null===i.cursorOffsetY?.5*(t.clientY-n.top):i.cursorOffsetY,left:null===i.cursorOffsetX?.5*(t.clientX-n.left):i.cursorOffsetX};e(Object.assign({sensorEvent:t,sourceRect:n,mirrorOffset:r,options:i},o))}))}function H({withFrame:e=!1,initial:t=!1}={}){return n=>{var{mirror:i,sensorEvent:o,mirrorOffset:r,initialY:s,initialX:a,scrollOffset:c,options:l,passedThreshX:d,passedThreshY:u,lastMovedX:p,lastMovedY:g}=n,f=D(n,["mirror","sensorEvent","mirrorOffset","initialY","initialX","scrollOffset","options","passedThreshX","passedThreshY","lastMovedX","lastMovedY"]);return B((e=>{const n=Object.assign({mirror:i,mirrorOffset:r,options:l,sensorEvent:o},f);if(r){const e=d?Math.round((o.clientX-r.left-c.x)/(l.thresholdX||1))*(l.thresholdX||1):Math.round(p),f=u?Math.round((o.clientY-r.top-c.y)/(l.thresholdY||1))*(l.thresholdY||1):Math.round(g);l.xAxis&&l.yAxis||t?i.style.transform=`translate3d(${e}px, ${f}px, 0) scale(0.5)`:l.xAxis&&!l.yAxis?i.style.transform=`translate3d(${e}px, ${s}px, 0)`:l.yAxis&&!l.xAxis&&(i.style.transform=`translate3d(${a}px, ${f}px, 0)`),t&&(n.initialX=e,n.initialY=f),n.lastMovedX=e,n.lastMovedY=f}e(n)}),{raf:e})}}function U(e){var{mirror:t,mirrorClasses:n}=e,i=D(e,["mirror","mirrorClasses"]);return B((e=>{t.classList.add(...n),e(Object.assign({mirror:t,mirrorClasses:n},i))}))}function N(e){var{mirror:t}=e,n=D(e,["mirror"]);return B((e=>{t.removeAttribute("id"),delete t.id,e(Object.assign({mirror:t},n))}))}function B(e,{raf:t=!1}={}){return new Promise(((n,i)=>{t?requestAnimationFrame((()=>{e(n,i)})):e(n,i)}))}var $=n(72);const q=Object.getOwnPropertySymbols(l.wf.Sensors.MouseSensor.prototype),G=["onMouseDown","onMouseMove","onMouseUp","onContextMenuWhileDragging","onDistanceChange"].reduce(((e,t)=>(e[t]=q.find((e=>e.toString().includes(t))),e)),{});class F extends l.wf.Sensors.MouseSensor{[G.onMouseDown](e){if(0!==e.button||e.ctrlKey||e.metaKey)return;const t=(0,$.c)(e.target,this.containers);if(!t)return;if(this.options.handle&&e.target&&!(0,$.c)(e.target,this.options.handle))return;const n=(0,$.c)(e.target,this.options.draggable);if(!n)return;const{delay:i}=this,{pageX:o,pageY:r}=e;Object.assign(this,{pageX:o,pageY:r}),this.onMouseDownAt=Date.now(),this.startEvent=e,this.currentContainer=t,this.originalSource=n,document.addEventListener("mouseup",this[G.onMouseUp]),document.addEventListener("mousemove",this[G.onDistanceChange]),this.mouseDownTimeout=window.setTimeout((()=>{this[G.onDistanceChange]({pageX:this.pageX,pageY:this.pageY})}),i.mouse)}}const V="ktc-draggable-mirror",Y=e=>{document.addEventListener(a.MJ,(n=>{const i=t(n.detail.sectionIdentifier);Array.prototype.forEach.call(i,(t=>{e.removeContainer(t)}))})),document.addEventListener(a.ik,(n=>{const i=t(n.detail.sectionIdentifier);Array.prototype.forEach.call(i,(t=>{e.addContainer(t)}))}));const t=e=>document.querySelectorAll(`div[id="${e}"] .ktc-widget-zone`)};var K=n(1220),X=n(28),Q=n(2632),Z=n(4980),J=n(3640),ee=n(100),te=n(3440),ne=n(3316),ie=n(844);var oe,re,se,ae=n(9764),ce=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},le=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let de=class{constructor(e,t,n){this.localizationService=e,this.pageConfigurationService=t,this.messagingService=n,this.wasInitialized=!1}async initialize(e,t,n,i,o,r){if(!this.wasInitialized){this.wasInitialized=!0;try{e.validate(),(0,s.UN)(e);const a=t(await this.pageConfigurationService.getConfiguration(e));return((e,t)=>{const n=window.kentico||{};n.localization=n.localization||{},n.localization.getString=t.getLocalizationWithoutPrefix;const i={open:t=>e((0,ie.m2)(t)),apply:t=>e((0,ie.cv)(t)),cancel:t=>e((0,ie.OM)(t)),getData:()=>e((0,ie.KE)())},o=n.modalDialog=n.modalDialog||{};Object.assign(o,i)})(a.dispatch,this.localizationService),(0,ae.R)(),this.messagingService.registerListener(a.getState,a.dispatch,e.allowedOrigins),(0,S.postMessage)(O.MX.GET_DISPLAYED_WIDGET_VARIANTS,null,"*"),window.addEventListener("resize",(()=>{this.updatePopupContainerPosition(a)})),((e,t,n)=>{const i=document.createElement("draggable"),o=new l.wf(i,{classes:{mirror:V,"source:dragging":"ktc-widget--dragged"},draggable:".ktc-widget",handle:".ktc-widget-header-handle",mirror:{constrainDimensions:!0},plugins:[x],sensors:[F]});o.removePlugin(l.wf.Plugins.Mirror),o.removeSensor(l.wf.Sensors.MouseSensor),Y(o);const{makeOnDragStart:r,makeOnDragStop:s,onDragOver:a,onDragContainerOver:c,onDragContainerOut:d}=A(o,e,t);o.on("drag:start",r(k)).on("drag:stop",s(n)).on("drag:over",a).on("drag:over:container",c).on("drag:out:container",d)})(a.dispatch,a.getState,o),this.initializeEditableAreas(a,i),((e,t,n)=>{const i=document.querySelectorAll(".ktc-editable-area"),o=new l.wf(i,{classes:{mirror:V,"source:dragging":"ktc-section--dragged"},draggable:".ktc-section",handle:".ktc-section-header-drag-icon",mirror:{constrainDimensions:!0},plugins:[x]});o.removePlugin(l.wf.Plugins.Mirror);const{makeOnDragStart:r,makeOnDragStop:s,onDragOver:a,onDragContainerOver:c,onDragContainerOut:d}=A(o,e,t);o.on("drag:start",r(w)).on("drag:stop",s(n)).on("drag:over",a).on("drag:over:container",c).on("drag:out:container",d)})(a.dispatch,a.getState,r),this.initializeGlobalComponentWrapper(a,n),(0,X.k)(),(0,te.I)(),a}catch(e){Q.Q.logException(e)}}}getGlobalComponentWrapperHost(){return document.body}initializeGlobalComponentWrapper(e,t){this.createGlobalComponentWrapperHost();const n=(0,o.W0)({mixins:[(0,ne.a)(e)],render:()=>(0,o.h)(t)});n.use(r.cp),n.config.globalProperties.$_localizationService=this.localizationService,n.mount(`.${a.AB}`)}createGlobalComponentWrapperHost(){const e=document.createElement("div");e.classList.add(a.AB),this.getGlobalComponentWrapperHost().appendChild(e)}updatePopupContainerPosition(e){if(null!==e.getState().popup.componentIdentifier){const t=document.querySelector("kentico-add-component-button[is-active='true'], kentico-personalization-button[show-personalization-popup]");if(null!==t){const n=t.getBoundingClientRect(),i=(0,K.Qn)(n,null),o=(0,K.se)(n),r=(0,K.kX)(n);e.dispatch((0,ee.Om)(i,o,r))}}}initializeEditableAreas(e,t){Object.keys(e.getState().editableAreas).forEach((n=>{const i=(0,o.W0)({mixins:[(0,ne.a)(e)],render:()=>(0,o.h)(t,{identifier:n})});i.use(r.cp),i.config.globalProperties.$_localizationService=this.localizationService,i.mount(`[data-kentico-editable-area-id="${n}"]`)}))}};de=ce([(0,i.q)(),le("design:paramtypes",["function"==typeof(oe=void 0!==c.LocalizationService&&c.LocalizationService)?oe:Object,"function"==typeof(re=void 0!==J.M&&J.M)?re:Object,"function"==typeof(se=void 0!==Z.Y&&Z.Y)?se:Object])],de)},3948:function(e,t,n){"use strict";n.d(t,{KY:function(){return o},UN:function(){return s},sT:function(){return r}});var i=n(6564);let o,r;const s=e=>{o=i.c.create({}),r=e}},1332:function(e,t,n){"use strict";n.d(t,{t:function(){return s},Yr:function(){return a},Sw:function(){return c},YP:function(){return l},Cw:function(){return d}});var i=n(3948),o=n(6012),r=n(655);const s=async e=>(await i.KY.get(e)).data,a=async(e,t)=>{const n=i.sT.getComponentMarkupData(t);return(await i.KY.post(e,n)).data},c=async()=>{const e=await i.KY.get(i.sT.metadataEndpoint);return(0,o.Km)(r.UH.NormalizerService).normalizeMetadata(e.data)},l=async()=>{const e=await i.KY.get(i.sT.configurationEndpoints.load);return(0,o.Km)(r.UH.NormalizerService).normalizeConfiguration(e.data)},d=async(e,t)=>((e,t)=>{const n={[i.sT.constants.editingInstanceHeader]:t};return i.KY.post(i.sT.configurationEndpoints.store,e,{headers:n})})((0,o.Km)(r.UH.NormalizerService).denormalizeConfiguration(e),t)},904:function(e,t,n){"use strict";n.d(t,{Q:function(){return s}});var i=n(5620);const o=new i.Oq.Entity("widgets",{},{idAttribute:"typeIdentifier"}),r=new i.Oq.Entity("sections",{},{idAttribute:"typeIdentifier"}),s={pageTemplates:[new i.Oq.Entity("pageTemplates",{},{idAttribute:"typeIdentifier"})],personalizationConditionTypes:[new i.Oq.Entity("personalizationConditionTypes",{},{idAttribute:"typeIdentifier"})],sections:[r],widgets:[o]}},7316:function(e,t,n){"use strict";n.d(t,{i:function(){return i}});class i{constructor(e,t,n,i,o,r,s){this.applicationPath=e,this.configurationEndpoints=t,this.metadataEndpoint=n,this.allowedOrigins=i,this.propertiesEditorClientId=o,this.constants=r,this.selectors=s}}},5072:function(e,t,n){"use strict";n.d(t,{u:function(){return s}});var i=n(1284),o=n(7820),r=n(7268);const s=(0,i._M)({data(){return{widgetZone:undefined}},render(){const e=(0,r.y)(this.sectionMarkup),t=(0,i._M)({template:`<div ref="sectionMarkup" class="ktc-section-body-wrapper">${e.strippedMarkup}</div>`,components:{WidgetZone:this.widgetZone},data:()=>({sectionIdentifier:this.sectionIdentifier,areaIdentifier:this.areaIdentifier}),mounted(){(0,r.kp)(this.$refs.sectionMarkup,e.scriptMappings),o.sz.disableElementLinks(this.$refs.sectionMarkup)},updated(){(0,r.kp)(this.$refs.sectionMarkup,e.scriptMappings),o.sz.disableElementLinks(this.$refs.sectionMarkup)}});return(0,i.h)(t)},props:{sectionIdentifier:{required:!0,type:String},sectionMarkup:{required:!0,type:String},areaIdentifier:{required:!0,type:String}}})},3628:function(e,t,n){"use strict";n.d(t,{k:function(){return i}});const i={sectionIdentifier:{required:!0,type:String},zoneIndex:{required:!0,type:Number},areaIdentifier:{required:!0,type:String}}},7696:function(e,t,n){"use strict";n.d(t,{oT:function(){return O},Ic:function(){return I.c},G8:function(){return M},_y:function(){return H},EN:function(){return X}});var i=n(3316),o=n(8700),r=n(5208),s=n(1284);const a=[".theme",".headerTitle",".horizontalPosition",".verticalPosition",".columnType",".localizationService"],c={slot:"pop-up-content",class:"pop-up-sticky-filter"},l={slot:"pop-up-content"},d=[".items",".noItemsAvailableMessage",".columnType"];var u=n(7820),p=n(5312),g=n(5380);const f={class:"ktc-clear-filter"},h={class:"ktc-clear-filter-header"},m={class:"ktc-clear-filter-paragraph"},y={class:"ktc-clear-filter-button"},b=[".buttonText",".buttonStyle"];var v=(0,s._M)({computed:{showButton(){return this.filterPhrase&&this.noResults},buttonText(){return this.$_localizationService.getLocalization("widgetlist.clearfilter.buttontext")},buttonStyle(){return"ktc-btn ktc-btn-default"}},methods:{handleClick(){this.clearFilter()}},props:{filterPhrase:{type:String},noResults:{type:Boolean},clearFilter:{type:Function}}}),k=n(5772);var w=(0,k.c)(v,[["render",function(e,t,n,i,o,r){return(0,s.wt)(((0,s.Wz)(),(0,s.An)("div",f,[(0,s.QD)("div",h,(0,s.WA)(e.$_localizationService.getLocalization("widgetlist.clearfilter.header")),1),(0,s.QD)("div",m,(0,s.WA)(e.$_localizationService.getLocalization("widgetlist.clearfilter.paragraph")),1),(0,s.QD)("div",y,[(0,s.QD)("kentico-submit-button",{".buttonText":e.buttonText,"on:buttonClick":t[0]||(t[0]=(0,s.Y7)(((...t)=>e.handleClick&&e.handleClick(...t)),["stop"])),".buttonStyle":e.buttonStyle},null,40,b)])],512)),[[s.Ub,e.showButton]])}]]);var _=(0,i.U)((({popup:e})=>({filterPhrase:e.filterPhrase})),(()=>({clearFilter:()=>(0,g.cr)("")})))(w),S=(0,s._M)({components:{ClearComponentFilterButton:_},computed:{popupTheme(){return u.sL.getTheme(this.popup.popupType)},headerTitle(){switch(this.popup.popupType){case p.HH.AddWidget:return this.$_localizationService.getLocalization("widget.headerTitle");case p.HH.AddSection:return this.$_localizationService.getLocalization("section.headerTitle");default:return""}},noComponentsAvailableMessage(){return this.$_localizationService.getLocalization("widgetlist.nowidgets")},containerStyle(){return this.popup&&this.popup.listingOffset?{top:this.popup.listingOffset.top+"px",left:this.popup.listingOffset.left+"px"}:null},hasItems(){return this.items.length>0}},methods:{onInsertComponent(e){this.selectItem(e.detail.key)}},props:{popup:{type:Object},isDnDActive:{type:Boolean},items:{type:Array},closePopup:{type:Function},selectItem:{type:Function}}});var T=(0,k.c)(S,[["render",function(e,t,n,i,o,r){const u=(0,s.E1)("ClearComponentFilterButton");return(0,s.Wz)(),(0,s.An)("div",{class:"ktc-add-component-pop-up",style:(0,s.c$)(e.containerStyle)},[(0,s.wt)((0,s.QD)("kentico-pop-up-container",{".theme":e.popupTheme,showBackButton:!1,".headerTitle":e.headerTitle,".horizontalPosition":e.popup.horizontalPosition,".verticalPosition":e.popup.verticalPosition,".columnType":e.popup.columnType,".localizationService":e.$_localizationService,triangle:"","on:selectItem":t[0]||(t[0]=(...t)=>e.onInsertComponent&&e.onInsertComponent(...t)),"on:closePopup":t[1]||(t[1]=(...t)=>e.closePopup&&e.closePopup(...t))},[(0,s.QD)("div",c,[(0,s.oF)(e.$slots,"pop-up-content-filter",{},void 0,!0)]),(0,s.QD)("div",l,[(0,s.oF)(e.$slots,"pop-up-content-top",{},void 0,!0)]),(0,s.QD)("kentico-pop-up-listing",{slot:"pop-up-content",".items":e.items,".noItemsAvailableMessage":e.noComponentsAvailableMessage,".columnType":e.popup.columnType},[(0,s.K2)(u,{noResults:!e.hasItems,slot:"no-items"},null,8,["noResults"])],40,d)],40,a),[[s.Ub,!e.isDnDActive]])],4)}],["__scopeId","data-v-455e8f4b"]]);var O=(0,i.U)((({popup:e,dragAndDrop:t,editableAreasConfiguration:n,widgetZonesConfiguration:i,metadata:r})=>{const s=n[e.areaIdentifier],a=i[e.zoneIdentifier],c=(0,o.c)(e.popupType,r,s,a);return{popup:e,isDnDActive:!!t.itemIdentifier,items:(0,o.A)(c,e.filterPhrase)}}),(()=>({closePopup:r.Sq})))(T),I=n(8208),A=n(1748);var C=(0,s._M)({methods:{onMouseOver(){const e=this.isBottom?this.position+1:this.position;if(this.containerIdentifier===this.dragAndDrop.sourceContainerIdentifier){if(e===(this.isBottom?this.dragAndDrop.originalPosition:this.dragAndDrop.originalPosition+1))return void(null!==this.dragAndDrop.dropMarkerPosition&&this.hideDropMarker())}this.containerIdentifier===this.dragAndDrop.targetContainerIdentifier&&e===this.dragAndDrop.dropMarkerPosition||this.showDropMarker(this.containerIdentifier,e)}},props:{containerIdentifier:{required:!0,type:String},position:{required:!0,type:Number},isBottom:{required:!1,default:!1,type:Boolean},dragAndDrop:{type:Object},hideDropMarker:{type:Function},showDropMarker:{type:Function}}});var E=(0,k.c)(C,[["render",function(e,t,n,i,o,r){return(0,s.Wz)(),(0,s.An)("div",{class:"ktc-dropzone",onMouseover:t[0]||(t[0]=(...t)=>e.onMouseOver&&e.onMouseOver(...t))},null,32)}],["__scopeId","data-v-96995a70"]]);var M=(0,i.U)((({dragAndDrop:e})=>({dragAndDrop:e})),(()=>({hideDropMarker:A.Ko,showDropMarker:A.WT})))(E),P=n(844);const D=[".configuration",".messages"],j=["src"];var L=n(7540),x=n(28),z=n(1460),R=(0,s._M)({data(){return{$refs:undefined,baseUnit:16,dialogContentHeight:0,isDialogContentLoaded:!1}},computed:{dialogConfiguration(){const{title:e,showFooter:t,applyButtonText:n,cancelButtonText:i,width:o,maximized:r,tabs:s,activeTabIndex:a}=this.dialog;return{title:e,showFooter:t,applyButtonText:n,cancelButtonText:i,tabs:s.map(((e,t)=>({title:e.title,iconClassName:e.iconClassName,active:t===a}))),theme:this.theme,showLoader:!this.isDialogContentLoaded,dialogIndex:this.dialogIndex,openedDialogsCount:this.openedDialogsCount,width:this.isDialogContentLoaded?o:"38%",maximized:!!this.isDialogContentLoaded&&r,setPosition:!0}},footerHeight(){return this.dialogConfiguration.showFooter?L.wf:0},dialogContentStringHeight(){return`${this.dialogContentHeight}px`},dialogMessages(){return{unsavedChanges:this.unsavedChangesMessage,loaderMessage:this.loaderMessage,closeTooltip:this.closeTooltip}},closeTooltip(){return this.$_localizationService.getLocalization("typelist.closeTooltip")},unsavedChangesMessage(){return this.$_localizationService.getLocalization("modalDialog.close.confirmation")},loaderMessage(){return this.$_localizationService.getLocalization("modaldialogs.loading")}},mounted(){(0,z.g)(document),window.addEventListener("resize",this.onResize)},beforeUnmount(){0===this.dialogIndex&&(0,z.Q)(document),window.removeEventListener("resize",this.onResize)},methods:{getDialogContentHeight(){const e=this.$refs.dialogContentWrapper,t=e.scrollHeight>e.contentDocument.body.scrollHeight?e.scrollHeight:e.contentDocument.body.scrollHeight,n=t+L.Ex+this.footerHeight,i=window.innerHeight-2*this.baseUnit;return this.dialog.maximized||n>i?i-L.Ex-this.footerHeight:t},onResize(){this.dialogContentHeight=this.getDialogContentHeight(),this.$nextTick((()=>{this.$refs.modalDialog.adjustDialogHeight(this.dialogContentHeight+L.Ex+this.footerHeight)}))},onDialogApply(){this.applyDialog(this.$refs.dialogContentWrapper.contentWindow)},onDialogClose(){this.closeDialog(this.$refs.dialogContentWrapper.contentWindow)},onSelectTab({detail:e}){this.selectDialogTab(e)},onDialogContentLoaded(){this.isDialogContentLoaded=!0,this.injectResizeToIframe(),this.hookCancelScreenLock(),this.$nextTick((()=>{this.dialogContentHeight=this.getDialogContentHeight(),this.$nextTick((()=>{this.$refs.modalDialog.adjustDialogHeight(this.dialogContentHeight+L.Ex+this.footerHeight)}))}))},injectResizeToIframe(){const e=this.$refs.dialogContentWrapper.contentWindow;e.kentico=e.kentico||{},e.kentico.modalDialog=e.kentico.modalDialog||{},e.kentico.modalDialog.resize=this.onResize},hookCancelScreenLock(){const e=this.$refs.dialogContentWrapper.contentDocument.documentElement;(0,x.k)(e)}},props:{dialogIndex:{required:!0,type:Number},dialog:{type:Object},theme:{type:String},openedDialogsCount:{type:Number},applyDialog:{type:Function},closeDialog:{type:Function},selectDialogTab:{type:Function}}});var W=(0,k.c)(R,[["render",function(e,t,n,i,o,r){return(0,s.Wz)(),(0,s.An)("kentico-modal-dialog",{ref:"modalDialog",".configuration":e.dialogConfiguration,".messages":e.dialogMessages,onApply:t[1]||(t[1]=(...t)=>e.onDialogApply&&e.onDialogApply(...t)),onClose:t[2]||(t[2]=(...t)=>e.onDialogClose&&e.onDialogClose(...t)),"on:selectTab":t[3]||(t[3]=(...t)=>e.onSelectTab&&e.onSelectTab(...t)),onMousewheel:t[4]||(t[4]=(0,s.Y7)((()=>{}),["prevent","stop"])),onMouseup:t[5]||(t[5]=(0,s.Y7)((()=>{}),["stop"])),onMousedown:t[6]||(t[6]=(0,s.Y7)((()=>{}),["stop"]))},[(0,s.wt)((0,s.QD)("iframe",{ref:"dialogContentWrapper",class:"ktc-modal-dialog__content",src:e.dialog.markupUrl,style:(0,s.c$)({height:e.dialogContentStringHeight}),onLoad:t[0]||(t[0]=(...t)=>e.onDialogContentLoaded&&e.onDialogContentLoaded(...t))},null,44,j),[[s.Ub,e.isDialogContentLoaded]])],40,D)}],["__scopeId","data-v-f40b1028"]]);var H=(0,i.U)((({modalDialogs:e},{dialogIndex:t})=>({dialog:e.dialogs[t],openedDialogsCount:e.dialogs.length,theme:e.theme})),(()=>({closeDialog:P.OM,applyDialog:P.cv,selectDialogTab:P.kf})))(W),U=(n(2440),n(6012)),N=n(7780),B=n(100),$=n(655);const q=["display","section-type-list-position",".localizationService",".sectionTypeListTitleText",".sectionTypes",".activeSectionTypeIdentifier",".columnType"],G={slot:"sectionHeaderExtraButtons"};var F=n(1252),V=n.n(F),Y=(0,s._M)({data(){return{setOpacityTimeoutCancellationToken:!1,isMouseOver:!1,isFocused:!1}},computed:{sectionHeaderClasses(){return{"ktc-admin-ui":!0,"ktc-section-header-wrapper":!0,"ktc-section-header--hidden":!this.sectionHeaderPosition,"ktc-section-header-wrapper--focus":this.isFocused}},getSectionTypeListTitleText(){return this.$_localizationService.getLocalization("section.typelist.title")}},mounted(){V().addOne(this.$el)},beforeUnmount(){V().removeOne(this.$el)},methods:{onToggleSectionTypeList(){this.sectionTypeListPosition?this.closePopup():this.openPopup(this.sectionIdentifier,this.calculatePopupPosition(),p._4.Bottom,p.HH.ChangeSection)},onClosePopup(e){this.isMouseOver=!1,this.setOpacityTimeoutCancellationToken=!0,this.$emit(e.type,e)},onChangeSection(e){this.isFocused=!1,this.$emit("changeSection",e)},highlightHeader(){this.isMouseOver=!0,this.isFocused||(this.setOpacityTimeoutCancellationToken=!1,setTimeout((()=>{this.setOpacityTimeoutCancellationToken||(this.isFocused=!0)}),300))},unhighlightHeader(){this.isMouseOver=!1,this.setOpacityTimeoutCancellationToken=!0,this.isFocused&&!this.sectionTypeListPosition&&(this.isFocused=!1)},calculatePopupPosition(){const e=window.innerWidth*L.uw+10;return this.$el.getBoundingClientRect().left-e>=0?p.GG.Left:p.GG.Right},onSectionTypeListPositionChange(e){this.isMouseOver||e||(this.isFocused=!1)},onBorderHighlightedChange(e){e?this.highlightHeader():this.unhighlightHeader()}},props:{areaIdentifier:{required:!0,type:String},sectionIdentifier:{required:!0,type:String},showSectionTypeList:{required:!0,type:Boolean},sectionType:{required:!0,type:String},highlighted:{required:!0,type:Boolean},sectionTypeListPosition:{type:String},sectionHeaderPosition:{type:String},availableSectionTypes:{type:Array},columnType:{type:String},openPopup:{type:Function},closePopup:{type:Function}},watch:{sectionTypeListPosition:[{handler:"onSectionTypeListPositionChange"}],highlighted:[{handler:"onBorderHighlightedChange"}]}});var K=(0,k.c)(Y,[["render",function(e,t,n,i,o,r){return(0,s.Wz)(),(0,s.An)("div",{class:(0,s.WN)(e.sectionHeaderClasses)},[(0,s.QD)("kentico-section-header",{display:e.sectionHeaderPosition,"section-type-list-position":e.sectionTypeListPosition,".localizationService":e.$_localizationService,".sectionTypeListTitleText":e.getSectionTypeListTitleText,".sectionTypes":e.availableSectionTypes,".activeSectionTypeIdentifier":e.sectionType,".columnType":e.columnType,"on:removeSection":t[0]||(t[0]=t=>e.$emit(t.type,t)),"on:toggleSectionTypeList":t[1]||(t[1]=(...t)=>e.onToggleSectionTypeList&&e.onToggleSectionTypeList(...t)),"on:closePopup":t[2]||(t[2]=(...t)=>e.onClosePopup&&e.onClosePopup(...t)),"on:selectItem":t[3]||(t[3]=(...t)=>e.onChangeSection&&e.onChangeSection(...t))},[(0,s.QD)("div",G,[(0,s.oF)(e.$slots,"sectionHeaderExtraButtons")])],40,q)],2)}]]);var X=(0,i.U)((({highlightedSection:e,popup:t,editableAreasConfiguration:n,metadata:i},{areaIdentifier:o,sectionIdentifier:r})=>{const s=e.sectionIdentifier===r&&t.popupType===p.HH.ChangeSection,a=(0,U.Km)($.UH.PopUpElementsService),c=n[o].sectionRestrictions;return{sectionTypeListPosition:s?t.horizontalPosition:null,sectionHeaderPosition:e.sectionIdentifier===r?e.headerPosition:null,availableSectionTypes:a.getSectionElements((0,N.ym)(c,i.sections)),columnType:t.columnType}}),(()=>({openPopup:B._Q,closePopup:B.Sq})))(K);n(5588),n(5064)},7540:function(e,t,n){"use strict";n.d(t,{AB:function(){return d},EZ:function(){return c},Ex:function(){return u},MJ:function(){return i},OC:function(){return a},WO:function(){return g},cB:function(){return r},ik:function(){return o},uw:function(){return s},wH:function(){return l},wf:function(){return p}});const i="kenticoSectionRemove",o="kenticoSectionMounted",r=.3,s=.5,a=.7,c=40,l=250,d="ktc-global-component",u=36,p=64,g="ktc-properties-dialog"},6012:function(e,t,n){"use strict";n.d(t,{Km:function(){return r},Yz:function(){return s},u2:function(){return o}});let i=null;const o=e=>{i=e},r=e=>i.get(e),s=e=>i.resolve(e)},1148:function(e,t,n){"use strict";var i;n.d(t,{q:function(){return i}}),function(e){e[e.PAGE=0]="PAGE",e[e.MEDIA=1]="MEDIA",e[e.ATTACHMENT=2]="ATTACHMENT",e[e.LOCAL=3]="LOCAL",e[e.EXTERNAL=4]="EXTERNAL"}(i||(i={}))},240:function(e,t,n){"use strict";n.d(t,{G:function(){return c},Y:function(){return a}});var i=n(3676),o=n(655);const r=window.kentico=window.kentico||{},s=r._confirmDialog=r._confirmDialog||{},a=e=>{s.resolve(e)},c=e=>new Promise((t=>{s.resolve=t,(0,i.postMessage)(o.MX.CONFIRM,{message:e},"*")}))},3316:function(e,t,n){"use strict";n.d(t,{U:function(){return c},a:function(){return l}});var i=n(9176),o=n(1284),r=n(696);const s=()=>({}),a=()=>({}),c=(e=s,t=a)=>n=>({name:`connected-${n.name}`,inject:["store"],data:()=>({state:null}),props:Object.assign({},(0,r.Gk)(n).props),render(){return(0,o.h)(n,Object.assign(Object.assign(Object.assign({},this.$props),this.stateToProps),this.dispatchToProps),this.$slots)},computed:{stateToProps(){return e(this.state,this.$props)},dispatchToProps(){return Object.assign({},(0,i.sF)(t(),this.store.dispatch))}},methods:{updateState(){this.state=this.store.getState()}},created(){this.unsubscribe=((t,n)=>{let i=e(t.getState(),this.$props||{});return t.subscribe((()=>{const o=e(t.getState(),this.$props);(0,r.G)(i,o)||(i=o,n())}))})(this.store,this.updateState),this.updateState()},unmounted(){this.unsubscribe&&this.unsubscribe()}}),l=e=>({data(){return{store:e}},provide(){return{store:this.store}}})},2620:function(e,t,n){"use strict";n.d(t,{S:function(){return i},W:function(){return o}});const i=e=>{"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()},o=e=>e?e[0]:null},7268:function(e,t,n){"use strict";n.d(t,{kp:function(){return c},u:function(){return r},vP:function(){return s},y:function(){return a}});var i=n(2550),o=n(2632);const r=(e,t,n)=>{t.innerHTML=e;const i=t.querySelectorAll("script");Array.prototype.forEach.call(i,(e=>{const t=e.parentNode,i=document.createElement("script");[...e.attributes].forEach((e=>{i.setAttribute(e.name,e.value)}));try{e.src?(i.classList.add("ktc-tmp-element"),i.classList.add(n),document.head.appendChild(i)):(i.innerHTML=e.innerHTML,t.replaceChild(i,e)),e.remove()}catch(e){o.Q.logException(e)}}))},s=e=>{const t=document.head.querySelectorAll(`.${e}`);Array.prototype.forEach.call(t,(e=>{e.remove()}))},a=e=>{const t={},n=document.createElement("div");n.innerHTML=e;const o=n.querySelectorAll("script");return Array.prototype.forEach.call(o,(e=>{const n=(0,i.c)(),o=document.createElement("div");o.style.display="none",o.dataset.kenticoScriptId=n;const r=document.createElement("script");r.innerHTML=e.innerHTML,e.src&&(r.src=e.src),e.type&&(r.type=e.type),t[n]=r,e.parentNode.replaceChild(o,e)})),{strippedMarkup:n.innerHTML,scriptMappings:t}},c=(e,t)=>{const n=e.querySelectorAll("div[data-kentico-script-id]");Array.prototype.forEach.call(n,(e=>{const n=t[e.dataset.kenticoScriptId];e.parentNode.replaceChild(n,e)}))}},28:function(e,t,n){"use strict";n.d(t,{k:function(){return s}});var i=n(3676),o=n(655);const r=()=>{setTimeout((()=>(0,i.postMessage)(o.MX.CANCEL_SCREENLOCK,null,"*")),1e3)},s=(e=document.documentElement)=>{e.addEventListener("mousedown",r,!0),e.addEventListener("keydown",r,!0)}},6356:function(e,t,n){"use strict";n.d(t,{o:function(){return i},w:function(){return o}});const i=(e,t,n)=>e&&r(e)+`${t}=${n}`,o=(e,t)=>e&&r(e)+Object.keys(t).map((e=>`${e}=${t[e]}`)).join("&"),r=e=>e+(e.indexOf("?")>-1?"&":"?")},2632:function(e,t,n){"use strict";n.d(t,{Q:function(){return s}});var i=n(6012),o=n(3676),r=n(655);const s={logError:e=>{(0,o.postMessage)(r.MX.MESSAGING_ERROR,e,"*")},logException:e=>{console.error(e),(0,o.postMessage)(r.MX.MESSAGING_EXCEPTION,(0,i.Km)(r.UH.LocalizationService).getLocalization("errors.generalerror"),"*")},logExceptionWithMessage:(e,t)=>{console.error(e),(0,o.postMessage)(r.MX.MESSAGING_EXCEPTION,t,"*")},logWarning:e=>{(0,o.postMessage)(r.MX.MESSAGING_WARNING,e,"*")}}},1460:function(e,t,n){"use strict";n.d(t,{Q:function(){return o},g:function(){return r}});const i="ktc-no-scroll",o=e=>{e.body.classList.remove(i)},r=e=>{e.body.classList.add(i)}},8800:function(){!function(e){try{return new MouseEvent("test"),!1}catch(e){}const t=function(t,n){n=n||{bubbles:!1,cancelable:!1};const i=document.createEvent("MouseEvent");return i.initMouseEvent(t,n.bubbles,n.cancelable,e,0,n.screenX||0,n.screenY||0,n.clientX||0,n.clientY||0,n.ctrlKey||!1,n.altKey||!1,n.shiftKey||!1,n.metaKey||!1,n.button||0,n.relatedTarget||null),i};t.prototype=Event.prototype,e.MouseEvent=t}(window)},9781:function(e,t,n){"use strict";n.d(t,{W:function(){return r},a6:function(){return i},kC:function(){return o},y2:function(){return s}});const i=".ktc-rich-text-wrapper",o="ktc-rich-text-value",r="Kentico.FormComponents.RichText.Initialize",s="ktc-tab-active"},4812:function(e,t,n){"use strict";n.d(t,{q:function(){return p}});var i=n(9781),o=n(8628),r=n(7160);const s="Kentico.FormComponents.RichText.ApplyButtonAnimation",a="ktc-rich-text-form-component--fullscreen",c="ktc-btn-slide";class l{constructor(e,t){this.froalaEditor=e,this.formComponent=t,this.applyAndCloseButtonText=window.kentico.localization.strings["kentico.components.formcomponent.richtext.applyandclosebutton"]}initialize(){this.ensureSaveButton(),this.ensureFullscreen()}ensureSaveButton(){const e=document.createElement("div");e.innerHTML=n(4308)({buttonText:this.applyAndCloseButtonText});const t=e.firstChild;t.addEventListener("click",(()=>{this.handleFullscreenExit(),t.remove()})),document.body.appendChild(t),this.froalaEditor.tooltip.bind(this.froalaEditor.$sc,".ktc-btn-rich-text-apply"),this.ensureApplyButtonAnimation(t)}ensureFullscreen(){document.body.classList.add(a),this.froalaEditor.fullscreen.toggle(),this.froalaEditor.events.focus()}ensureApplyButtonAnimation(e){localStorage.getItem(s)||(setTimeout((()=>{e.classList.add(c)}),300),setTimeout((()=>{e.classList.remove(c)}),3e3),localStorage.setItem(s,"1"))}handleFullscreenExit(){const e=this.formComponent.querySelector(`.${i.kC}`);this.froalaEditor.codeView.isActive()&&this.froalaEditor.codeView.toggle();const t=this.froalaEditor.html.get();e.value=(0,r.AZ)(t),e.dispatchEvent(new Event("change")),this.froalaEditor.fullscreen.toggle(),this.froalaEditor.destroy();const n=this.froalaEditor.$oel[0];n.innerHTML="",this.formComponent.querySelector("[data-inline-editor]").appendChild(n),document.body.classList.remove(a)}}const d=e=>({toolbarInline:!1,iframe:!0,zIndex:10205,events:{initialized(){new l(this,e).initialize()}},iframeStyle:n(284)()}),u=n(9872)(),p=(e,t,s,a,c=!0)=>{const l=e.querySelector(".ktc-btn"),p=e.querySelector(`.${i.kC}`);l&&l.addEventListener("click",(()=>{const t=e.querySelector(i.a6);t.classList.add("ktc-rich-text-form-component__froala"),document.body.appendChild(t),(0,o.a)(t,d(e),p.value,c,a,s)})),p.value=t.html,p.addEventListener("change",(()=>{e.querySelector("iframe").srcdoc=(e=>(e=(0,r.ot)(e),n(7456)({html:e,froalaCss:u})))(p.value),""===p.value?e.classList.add("ktc-rich-text-form-component--empty"):e.classList.remove("ktc-rich-text-form-component--empty")})),p.dispatchEvent(new Event("change"))}},9368:function(e,t,n){"use strict";n.d(t,{i:function(){return i}});const i=e=>"object"==typeof e},9560:function(e,t,n){"use strict";n.d(t,{K:function(){return o}});var i=n(7160);const o=(e,t,n)=>{const o=r({initialized(){if(e){const t=(0,i.e2)(e,this.opts.contextMacros);this.html.set(t)}},"html.set"(){(0,i.mY)(this)},contentChanged(){(0,i.mY)(this)}},t);return r(o,n)},r=(e,t)=>{if("object"!=typeof t.events)return e;const n=Object.assign({},e),i=Object.assign({},t.events);for(const[e,t]of Object.entries(n)){const o=i[e];"function"==typeof o&&(n[e]=function(...e){t.call(this,...e),o.call(this,...e)},delete i[e])}return Object.assign(Object.assign({},n),i)}},280:function(e,t,n){"use strict";n.d(t,{D:function(){return d}});var i=n(2988),o=n.n(i),r=(n(7796),n(3160)),s=n(9928),a=n(6276),c=n(8152);const l={codeMirror:o(),pasteDeniedAttrs:["id","style"],imageAllowedTypes:["gif","png","jpg","jpeg","svg","webp"],imageEditButtons:[s.aU,"imageAlign","imageCaption","imageRemove","imageLink","linkOpen","linkEdit","linkRemove","-","imageDisplay","imageStyle","imageSize"],quickInsertButtons:[a.yY,a.gp,"table","ul","ol","hr"],linkEditButtons:["linkOpen",a.o9,"linkRemove"],toolbarButtons:{moreText:{buttons:["bold","italic","underline","strikeThrough","subscript","superscript","fontFamily","fontSize","textColor","backgroundColor","inlineClass","inlineStyle","clearFormatting"]},moreParagraph:{buttons:["formatOL","formatUL","paragraphFormat","alignLeft","alignCenter","formatOLSimple","alignRight","alignJustify","paragraphStyle","lineHeight","outdent","indent","quote"],buttonsVisible:2},moreRich:{buttons:[a.oP,a.IH,c.eG,a.ek,"insertTable","emoticons","specialCharacters","insertHR"]},moreMisc:{buttons:["undo","redo",a.Qj,"selectAll","html","help"],buttonsVisible:2}}},d=(e,t,n,i)=>{const o=["script","style"];return i.htmlAllowedTags.includes("style")&&o.splice(o.indexOf("style"),1),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({htmlRemoveTags:o},l),t),n),i),{key:r.DEFAULTS.licenseKey,events:e,attribution:!1})}},9928:function(e,t,n){"use strict";n.d(t,{IH:function(){return o},Su:function(){return s},UZ:function(){return u},Wq:function(){return c},aU:function(){return r},aq:function(){return p},gj:function(){return i},k$:function(){return a},kt:function(){return d},uO:function(){return l}});const i="kenticoImagePlugin",o="insertImage",r="imageReplace",s="image",a="closeImagePopup",c="openImageSelection",l="clearImageSelection",d="saveImage",u="updateImage",p=`${i}.popupImage`},4152:function(e,t,n){"use strict";n.d(t,{O:function(){return rt},k:function(){return ot}});var i=n(3160),o=n.n(i),r=n(9928),s=n(1744);class a{constructor(e,t,n){this.commandName=e,this.commandParameters=t,this.commandIcon=n}get getPluginType(){return null}register(){(0,i.RegisterCommand)(this.commandName,Object.assign(Object.assign({},this.commandParameters),{title:null!==this.getPluginType&&this.commandParameters.title?(0,s.si)(this.commandParameters.title,this.getPluginType):this.commandParameters.title})),this.commandIcon&&(0,i.DefineIcon)(this.commandIcon.iconName,this.commandIcon.iconParameters)}}var c=n(2620),l=n(4168);const d=(e,t)=>(0,c.W)(e.popups.get(t)),u=(e,t,n,i,o,r,s)=>{e.popups.get(t)||(((e,t,n,i)=>{let o="";n.length>0&&(o+='<div class="fr-buttons">',o+=e.button.buildList(n),o+="</div>");const r={buttons:o};i&&(r.custom_layer=i),e.popups.create(t,r)})(e,t,n,s),i!==l.e.INSERT&&!e.opts.toolbarInline&&e.$wp&&e.events.$on(e.$wp,"scroll",(()=>{r&&r()&&e.popups.isVisible(t)&&u(e,t,n,i,o,r,s)})));const a=i===l.e.INSERT&&e.$tb||e.$sc;e.popups.refresh(t),e.popups.setContainer(t,a);const c=r?r().getBoundingClientRect():e.position.getBoundingRect(),{top:d,left:p,width:g,height:f}=c,h=p+g/2-o/2,m=d+window.pageYOffset+f;e.popups.show(t,h,m,f)},p=e=>{e.querySelectorAll(".fr-input-line input").forEach((e=>{e.addEventListener("focus",(function(){this.value||this.classList.add("fr-not-empty")})),e.addEventListener("blur",(function(){this.value||this.classList.remove("fr-not-empty")}))}))};class g{constructor(e,t){this.iconName=e,this.iconParameters=t}}class f extends a{get getPluginType(){return l.y.ImagePlugin}}var h=n(3948),m=n(6356);const y="ktc-image-selector--empty",b={title:"command.insertimage",icon:r.IH,focus:!0,undo:!0,refreshAfterCallback:!1,callback(){this.kenticoImagePlugin.showInsertImagePopup()}},v=new f(r.IH,b),k=new class extends a{register(){(0,i.RegisterQuickInsertButton)(this.commandName,this.commandParameters),this.commandIcon&&(0,i.DefineIcon)(this.commandIcon.iconName,this.commandIcon.iconParameters)}}(r.Su,b),w=new f(r.kt,{title:"",undo:!0,focus:!1,callback(){E(this)}}),_=new g(r.aU,{NAME:"editImage",SVG_KEY:"edit"}),S=new f(r.aU,{title:"command.editimage",focus:!1,undo:!0,refreshAfterCallback:!1,callback(){this.kenticoImagePlugin.showConfigureImagePopup()}},_),T=new f(r.UZ,{title:"",focus:!1,undo:!0,refreshAfterCallback:!1,callback(){E(this,this.image.get())}}),O=new g(r.k$,{NAME:"arrow-left",SVG_KEY:"back"}),I=new f(r.k$,{title:"command.back",undo:!1,focus:!1,callback(){this.kenticoImagePlugin.closeImageConfigurationPopup()}},O),A=new f(r.Wq,{title:"",undo:!1,focus:!1,async callback(){const{opts:e}=this,{contentSelector:t}=window.kentico.modalDialog,{imageUrl:n}=j(this),i=`.${e.imageAllowedTypes.join(";.")}`;let o=null;if(n){const e=this.opts.getLinkMetadataEndpointUrl,{linkType:t,linkMetadata:i}=await(0,s.C2)(e,n),r=(0,s.Vt)(t);o=null===i?null:{type:r,items:[{value:i.identifier}]}}t.open({tabs:["media","attachment"],selectedItems:o,mediaOptions:{allowedExtensions:i},attachmentOptions:{allowedExtensions:i},applyCallback:M(this)})}}),C=new f(r.uO,{title:"",undo:!1,focus:!1,callback(){const e=d(this,r.aq),t=D(e);t.selector.classList.add(y),t.urlField.value="",t.urlField.focus(),t.preview.src="",t.preview.alt=""}}),E=(e,t)=>{const{imageUrl:n,alternativeText:i}=j(e);n?(e.image.insert(n,!0,{alt:i},t),e.kenticoImagePlugin.closeImageConfigurationPopup()):e.kenticoImagePlugin.closeImageConfigurationPopup()},M=e=>async({items:t,type:n})=>{if(t&&t.length){const i=d(e,r.aq);if(!i)return;const{url:o,description:s,thumbnailUrls:a,fileGuid:c}=t[0];let l=s;if(e.opts.isImageRecognitionEnabled&&0===l.length){const t=(0,m.w)(e.opts.getImageDescriptionEndpointUrl,{guid:c,type:n});l=(await h.KY.post(t)).data}P(i,o,a.large,l)}},P=(e,t,n,i)=>{const o=D(e);o.selector.classList.remove(y),o.urlField.value=t,o.altText.value=i,o.altText.classList.add("fr-not-empty"),o.altText.focus(),o.preview.src=n},D=e=>({selector:e.querySelector(".ktc-image-selector"),urlField:e.querySelector("input[name='imageUrl']"),altText:e.querySelector("input[name='altText']"),preview:e.querySelector(".ktc-selector-item-preview")}),j=e=>{var t,n;const i=d(e,r.aq).querySelector(".ktc-popup-form"),o=new FormData(i);return{imageUrl:null===(t=o.get("imageUrl"))||void 0===t?void 0:t.trim(),alternativeText:null===(n=o.get("altText"))||void 0===n?void 0:n.trim()}},L=[v,S,k,I,A,C,w,T],x=e=>(0,s.si)(e,l.y.ImagePlugin),z="ktc-configure-popup";function R(){U(this,l.e.INSERT)}function W(){const e=(0,c.W)(this.image.get());e&&U(this,l.e.UPDATE,(()=>e),e.getAttribute("src"),e.alt)}function H(){this.popups.hide(r.aq)}const U=(e,t,i,o="",s="")=>{const a=`<div class="${z}"></div>`;u(e,r.aq,e.opts.popupInsertImageButtons,t,300,i,a);const c=d(e,r.aq);c.querySelector(`.${z}`).innerHTML=((e,t)=>n(484)({contentSelectionCommand:r.Wq,clearSelectionCommand:r.uO,submitCommand:e?r.UZ:r.kt,imageUrl:e,altText:t,imageUrlLabel:x("label.imageurl"),clearSelectionButtonText:x("actionbutton.clear"),contentSelectionButtonText:x("actionbutton.select"),altTextLabel:x("label.alttext"),submitButtonText:x(e?"actionbutton.update":"actionbutton.insert")}))(o,s),p(c);const l=e.popups.get(r.aq);e.accessibility.focusPopup(l)},N=function(e){const t={showInsertImagePopup:R,showConfigureImagePopup:W,closeImageConfigurationPopup:H};return Object.keys(t).forEach((n=>{t[n]=t[n].bind(e)})),t};var B=n(1148),$=n(564);class q extends a{get getPluginType(){return l.y.LinkPlugin}}var G=n(6276);class F{constructor(e,t="",n=!1,i=!1,o){this.linkAttributes=null!=o?o:{},"string"==typeof e?(this.linkText=0===e.trim().length?"":e,this.linkURL=t,this.openInNewTab=n,this.isImageLink=i):(this.linkText=e.text,this.linkURL=e.getAttribute("href")||"",this.openInNewTab="_blank"===e.target,this.isImageLink=!!e.querySelector("img"),Array.from(e.attributes).forEach((e=>{this.linkAttributes[e.name]=e.value})))}}let V,Y;const K=e=>function(t){const n=(0,c.W)(t);n&&((this.link.get()?!e:e)?n.classList.remove("fr-hidden"):n.classList.add("fr-hidden"))},X={title:"command.insertlink",focus:!1,undo:!1,plugin:G.k5,refreshAfterCallback:!0,callback(e){this.selection.save();const t=this.selection.text(),n=(0,c.W)(this.image.get()),i=!!n;if(V=new F(t,"",!1,i),Y=new $.w(B.q.PAGE),i&&n)this.kenticoLinkPlugin.showInsertLinkPopup(V,(()=>this.image.get()[0]));else if(this.opts.toolbarInline)this.kenticoLinkPlugin.showInsertLinkPopup(V);else{const t=()=>(0,c.W)(this.$tb).querySelector(`.fr-command[data-cmd="${e}"]`);this.kenticoLinkPlugin.showInsertLinkPopup(V,t)}}},Q=new q(G.oP,X),Z=new q(G.U5,Object.assign(Object.assign({},X),{refresh:K(!0)})),J=new g(G.a_,{NAME:"arrow-left",SVG_KEY:"back"}),ee=new q(G.a_,{title:"command.back",undo:!1,focus:!1,callback(){this.kenticoLinkPlugin.closeLinkConfigurationPopup()}},J),te={title:"",undo:!0,focus:!1,callback(){const e=ue(this);if(!e)return void this.kenticoLinkPlugin.closeLinkConfigurationPopup();const t=this.link.get();t&&t.removeAttribute("target"),e.openInNewTab&&(e.linkAttributes.target="_blank"),this.link.insert(e.linkURL,e.linkText,e.linkAttributes),this.kenticoLinkPlugin.closeLinkConfigurationPopup()}},ne=new q(G.gd,te),ie=new g(G.o9,{NAME:"editLink",SVG_KEY:"insertLink"}),oe=new q(G.o9,{title:"command.editlink",undo:!1,focus:!1,refresh:K(!1),async callback(){const e=this.link.get(),t=new F(e),n=this.opts.getLinkMetadataEndpointUrl;Y=await(0,s.C2)(n,t.linkURL),this.kenticoLinkPlugin.showLinkConfigurationPopup(t,Y)}},ie),re=new q(G.gf,{title:"",undo:!1,focus:!1,callback(){const e=d(this,G.Md),t=e.querySelector(".ktc-selector").querySelector(".ktc-selector-item"),n=e.querySelector("input[name='linkUrl']");t.disabled=!1,t.value="",t.focus(),n.value="",Y=null}}),se=new q(G.in,{title:"command.openlink",undo:!1,focus:!1,callback(){const e=this.link.get();e&&window.open(e.href,"_blank")}}),ae={title:"",undo:!1,focus:!1,callback(){const{contentSelector:e}=window.kentico.modalDialog;let t={applyCallback:le(this)};const n=Y&&Y.linkMetadata&&Y.linkMetadata.identifier;n&&(t=Object.assign(Object.assign({},t),{selectedItems:{type:(0,s.Vt)(Y.linkType),items:[{value:n}]}})),e.open(t)}},ce=new q(G.G4,ae),le=e=>({type:t,items:n})=>{if(n&&n.length){const i=d(e,G.Md),o=e.link.get(),r=new F(o?o.text:e.selection.text());if(!i)return;if("page"===t){const{name:e,nodeGuid:o,url:s}=n[0];de(i,r,e,t,s,o)}else{const{url:e,name:o,fileGuid:s,extension:a}=n[0];de(i,r,a?o+a:o,t,e,s)}}},de=(e,t,n,i,o,r)=>{const s=e.querySelector(".ktc-selector").querySelector(".ktc-selector-item"),a=e.querySelector("input[name='linkUrl']"),c=e.querySelector("input[name='linkText']");a.value=o,s.value=s.title=n,s.classList.add("fr-not-empty"),s.disabled=!0,c&&!c.value&&(c.value=n,c.classList.add("fr-not-empty")),Y=new $.w(ge(i),t.linkURL,{name:n,identifier:r})},ue=e=>{const t=d(e,G.Md);if(!t)return null;const n=pe(t,e.opts.linkAttributes),i=t.querySelector(".ktc-selector-item"),o=!i.disabled?i.value:n.linkURL,r=n.linkText?n.linkText:i.value;return o?new F(r,o,n.openInNewTab,!1,n.linkAttributes):null},pe=(e,t)=>{const n=e.querySelector(".ktc-popup-form"),i=new FormData(n),o=Object.keys(t).reduce(((e,t)=>(e[t]=i.get(t),e)),{});return{linkURL:i.get("linkUrl"),linkText:i.get("linkText"),openInNewTab:Boolean(i.get("openInNewTab")),isImageLink:!1,linkAttributes:o}},ge=e=>{switch(e){case"page":return B.q.PAGE;case"media":return B.q.MEDIA;case"attachment":return B.q.ATTACHMENT;default:return null}},fe=[Q,Z,oe,ee,re,ne,ce,se],he=e=>(0,s.si)(e,l.y.LinkPlugin),me="ktc-configure-popup";function ye(e,t){ve(this,e,new $.w(B.q.EXTERNAL),l.e.INSERT,t)}function be(e,t){ve(this,e,t,l.e.UPDATE,(()=>this.link.get()))}const ve=(e,t,i,o,r)=>{const s=`<div class="${me}"></div>`,a=G.Md;u(e,a,e.opts.popupInsertLinkButtons,o,G.wN,r,s);const c=d(e,a);if(!c)return;const{linkType:g}=i,f=c.querySelector(`.${me}`);if(!f)return;const h=[B.q.PAGE,B.q.MEDIA,B.q.ATTACHMENT].includes(g)?i.linkMetadata.name:null;if(g===B.q.LOCAL){const{linkText:e,openInNewTab:n,linkAttributes:o}=t;t=new F(e,i.linkURL,n,void 0,o)}const m=Object.keys(e.opts.linkAttributes).reduce(((n,i)=>(n[i]={label:e.opts.linkAttributes[i],value:null===t.linkAttributes?"":t.linkAttributes[i]},n)),{});f.innerHTML=((e,t,i,o,r)=>n(3272)({link:e||t.linkURL,linkLabel:he("label.link"),linkUrl:t.linkURL,linkText:t.linkText,linkTextLabel:he("label.text"),linkAttributes:r,isContentLinkType:i===B.q.PAGE||i===B.q.MEDIA||i===B.q.ATTACHMENT,isFormBuilder:void 0!==window.kentico.formBuilder,imageLink:t.isImageLink,openInNewTabLabel:he("label.openinnewtab"),openInNewTab:t.openInNewTab,command:G.gd,clearSelectionCommand:G.gf,contentSelectionCommand:G.G4,clearSelectionButtonText:he("actionbutton.clear"),contentSelectionButtonText:he("actionbutton.select"),actionButtonText:he(o===l.e.INSERT?"actionbutton.insert":"actionbutton.save")}))(h,t,g,o,m),p(c);const y=e.popups.get(a);e.accessibility.focusPopup(y)};function ke(){this.popups.hide(G.Md)}const we=function(e){const t={showInsertLinkPopup:ye,showLinkConfigurationPopup:be,closeLinkConfigurationPopup:ke};return Object.keys(t).forEach((n=>{t[n]=t[n].bind(e)})),t};var _e=n(8976),Se=n.n(_e);class Te extends a{get getPluginType(){return l.y.MacroPlugin}}var Oe,Ie=n(8152),Ae=n(1204),Ce=n(7828);function Ee(e){const t=this.kenticoMacroPlugin.getActiveMacro();t&&t.classList.remove(Ie.Og),e.classList.add(Ie.Og),u(this,Ie.uI,this.opts.popupActionButtons,l.e.UPDATE,Ie.mY,(()=>this.kenticoMacroPlugin.getActiveMacro()))}function Me(){this.popups.hide(Ie.uI);const e=this.el.querySelector(`.${Ie.Og}`);e&&e.classList.remove(Ie.Og)}!function(e){e.URL="query",e.CONTEXT="pattern"}(Oe||(Oe={}));var Pe=n(9781);const De=(e,t,n)=>function(i,o,r="",s=""){u(this,e,t,i,Ie.mM,o,'<div class="ktc-configure-popup"></div>'),je(this,e,i,n,r,s)},je=(e,t,n=l.e.INSERT,i,o="",r="")=>{r=r.trim().replace(/"/g,"&quot;");const s=d(e,t);if(s){const a=s.querySelector(".ktc-configure-popup");let c;i===Oe.URL?(a.innerHTML=(0,Ce.GI)(n,o,r),c=Ie.Ev):(a.innerHTML=(0,Ce.WM)(n,e.opts.contextMacros,o,r),c=Ie.wx);const l=s.querySelector(`.fr-command.${Pe.y2}`);l&&l.classList.remove(Pe.y2);if(s.querySelector(`.fr-command[data-cmd="${c}"]`).classList.add(Pe.y2),p(s),i===Oe.URL){const n=e.popups.get(t);e.accessibility.focusPopup(n)}}};let Le;const xe=new g(Ie.eG,{PATH:Ie.Mf,template:"svg"}),ze=new Te(Ie.eG,{title:"command.insertdynamictext",icon:Ie.eG,focus:!1,undo:!1,plugin:Ie.ob,refreshAfterCallback:!0,callback(e){this.selection.save(),Le=this.selection.text();const t=this.opts.toolbarInline?void 0:()=>(0,c.W)(this.$tb).querySelector(`.fr-command[data-cmd="${e}"]`);this.kenticoMacroPlugin.showConfigurationPopup(l.e.INSERT,t,void 0,Le)}},xe),Re={title:"",focus:!1,undo:!0,refreshAfterCallback:!0,callback(e){this.selection.restore();const t=d(this,Ie.cl);if(t){this.undo.saveStep();const n=t.querySelector("#ktc-macro-popup-form"),i=new FormData(n),o=e===Ie.UD?Oe.URL:Oe.CONTEXT,r=this.opts.contextMacros;let s="",a="";if(o===Oe.URL){const e=i.get("urlParameterName");s=encodeURI(e),a=(0,Ae.K)(r,e)}else o===Oe.CONTEXT&&(s=i.get("contextMacroType"),a=(0,Ae.K)(r,s));const c=Se()(i.get("defaultText"));if(s){const e=(0,Ce.uO)(o,s,c,a);this.html.insert(e)}this.kenticoMacroPlugin.hideConfigurationPopup()}}},We=new Te(Ie.ms,Re),He=new Te(Ie.UD,Re),Ue=new Te(Ie.WW,Re),Ne={title:"",focus:!1,undo:!0,refreshAfterCallback:!0,callback(e){const t=this.el.querySelector(`.${Ie.Og}`),n=e===Ie.kB?Ie.Oq:e===Ie.s1?Ie.Ic:"",i=d(this,n);if(i&&t){this.undo.saveStep();const n=i.querySelector("#ktc-macro-popup-form"),o=new FormData(n),r=o.get(e===Ie.kB?"urlParameterName":"contextMacroType"),s={macroValue:encodeURI(r),macroDefaultValue:Se()(o.get("defaultText"))};s.macroValue&&(t.value=(0,Ae.K)(this.opts.contextMacros,r),Object.assign(t.dataset,s)),this.kenticoMacroPlugin.hidePopups()}}},Be=new Te(Ie.kB,Ne),$e=new Te(Ie.s1,Ne),qe=new Te(Ie.Sk,{title:"command.removemacro",icon:"remove",focus:!1,undo:!0,refreshAfterCallback:!1,callback(){const e=this.el.querySelector(`.${Ie.Og}`);e&&(this.undo.saveStep(),e.remove()),this.kenticoMacroPlugin.hideActionsPopup()}}),Ge=new g(Ie.OK,{NAME:"cog-wheel",SVG_KEY:"cogs"}),Fe=new Te(Ie.OK,{title:"command.configuremacro",undo:!1,focus:!1,callback(){const e=()=>this.kenticoMacroPlugin.getActiveMacro(),t=e();if(t){const n=t.dataset,{macroValue:i,macroDefaultValue:o,macroType:r}=n;r===Oe.URL?this.kenticoMacroPlugin.showConfigureUrlPopup(l.e.UPDATE,e,i,o):this.kenticoMacroPlugin.showConfigureContextMacroPopup(l.e.UPDATE,e,i,o)}}},Ge),Ve=new g("macro",{PATH:Ie.k$,template:"svg"}),Ye=new Te(Ie.wx,{title:"command.contactattribute",icon:"macro",undo:!1,focus:!1,callback(){je(this,Ie.cl,l.e.INSERT,Oe.CONTEXT,void 0,Le)}},Ve),Ke=new g("queryString",{PATH:Ie.CU,template:"svg"}),Xe=new Te(Ie.Ev,{title:"command.urlparameter",icon:"queryString",undo:!1,focus:!1,callback(){je(this,Ie.cl,l.e.INSERT,Oe.URL,void 0,Le)}},Ke),Qe=new g("popupConfigureClose",{NAME:"arrow-left",SVG_KEY:"back"}),Ze=[ze,qe,Fe,new Te(Ie.Yk,{title:"command.popupback",undo:!1,focus:!1,callback(){this.kenticoMacroPlugin.hideConfigurationPopup()}},Qe),Ye,Xe,We,He,Ue,Be,$e];function Je(){this.popups.isVisible(Ie.uI)&&this.popups.hide(Ie.uI),tt.call(this)}function et(){return this.el.querySelector(`.${Ie.Og}`)}function tt(){this.popups.isVisible(Ie.Oq)&&this.popups.hide(Ie.Oq),this.popups.isVisible(Ie.Ic)&&this.popups.hide(Ie.Ic),this.popups.isVisible(Ie.cl)&&this.popups.hide(Ie.cl)}const nt=function(e){const t=e.opts.popupConfigureButtons,n=e.opts.contextMacros?t:t.filter((e=>e!==Ie.wx)),i={getActiveMacro:et,showActionsPopup:Ee,hideActionsPopup:Me,showConfigureContextMacroPopup:De(Ie.Ic,e.opts.popupEditContextMacroButtons,Oe.CONTEXT),showConfigureUrlPopup:De(Ie.Oq,e.opts.popupEditUrlMacroButtons,Oe.URL),showConfigurationPopup:De(Ie.cl,n,Oe.URL),hideConfigurationPopup:tt,hidePopups:Je};return Object.keys(i).forEach((t=>{i[t]=i[t].bind(e)})),i};let it=!1;const ot=()=>{Object.assign(i.POPUP_TEMPLATES,{[r.aq]:"[_BUTTONS_][_CUSTOM_LAYER_]"}),Object.assign(i.DEFAULTS,{popupInsertImageButtons:[r.k$,"|"]}),L.forEach((e=>e.register())),i.PLUGINS[r.gj]=N,Object.assign(i.POPUP_TEMPLATES,{[Ie.uI]:"[_BUTTONS_]",[Ie.cl]:"[_BUTTONS_][_CUSTOM_LAYER_]",[Ie.Oq]:"[_BUTTONS_][_CUSTOM_LAYER_]",[Ie.Ic]:"[_BUTTONS_][_CUSTOM_LAYER_]"}),Object.assign(i.DEFAULTS,{popupActionButtons:[Ie.Sk,Ie.OK],popupConfigureButtons:[Ie.Yk,"|",Ie.Ev,Ie.wx],popupEditUrlMacroButtons:[Ie.Yk,"|",Ie.Ev],popupEditContextMacroButtons:[Ie.Yk,"|",Ie.wx]}),Ze.forEach((e=>e.register())),i.PLUGINS[Ie.ob]=nt,Object.assign(i.POPUP_TEMPLATES,{[G.Md]:"[_BUTTONS_][_CUSTOM_LAYER_]"}),Object.assign(i.DEFAULTS,{popupInsertLinkButtons:[G.a_,"|"]}),fe.forEach((e=>e.register())),i.PLUGINS[G.k5]=we},rt=()=>{var e;if(!it){const t=null===(e=window.kentico.pageBuilder.richTextEditor)||void 0===e?void 0:e.plugins;null==t||t.forEach((e=>e(o()))),it=!0}}},564:function(e,t,n){"use strict";n.d(t,{w:function(){return i}});class i{constructor(e,t=null,n=null){this.linkType=e,this.linkURL=t,this.linkMetadata=n}}},6276:function(e,t,n){"use strict";n.d(t,{G4:function(){return h},IH:function(){return r},Md:function(){return y},Qj:function(){return m},U5:function(){return a},a_:function(){return p},ek:function(){return s},gd:function(){return g},gf:function(){return f},gp:function(){return l},in:function(){return u},k5:function(){return i},o9:function(){return d},oP:function(){return o},wN:function(){return b},yY:function(){return c}});const i="kenticoLinkPlugin",o="insertLink",r="insertImage",s="insertVideo",a="imageLink",c="image",l="video",d="linkEdit",u="linkOpen",p="closeLinkPopup",g="saveLink",f="clearSelection",h="openContentSelection",m="fullscreen",y=`${i}.popupLink`,b=300},8152:function(e,t,n){"use strict";n.d(t,{CU:function(){return T},Ev:function(){return p},Ic:function(){return _},Km:function(){return h},Mf:function(){return S},OK:function(){return c},Og:function(){return m},Oq:function(){return w},Sk:function(){return r},UD:function(){return g},WW:function(){return f},Yk:function(){return d},cl:function(){return k},eG:function(){return l},k$:function(){return O},kB:function(){return s},mM:function(){return v},mY:function(){return y},ms:function(){return o},ob:function(){return i},s1:function(){return a},uI:function(){return b},wx:function(){return u}});const i="kenticoMacroPlugin",o="insertMacro",r="removeMacro",s="updateUrlParameterMacro",a="updateContextMacro",c="configureMacro",l="insertDynamicText",d="popupConfigureClose",u="openMacroTab",p="openQueryTab",g="insertUrlMacro",f="insertContextMacro",h="ktc-macro",m=`${h}-active`,y=102,b=`${i}.popup`,v=300,k=`${i}.popupConfigure`,w=`${i}.popupUrl`,_=`${i}.popupContext`,S="m 1,12 3,-5 3,5 z m 22,0 -3,5 -3,-5 z M 8.34277,8.21484 h 7.82663 l 0.0127,2.62156 H 15.8076 C 15.6849,9.9012 15.3337,9.26855 14.7539,8.93848 14.4281,8.75651 13.9414,8.65706 13.2939,8.64014 v 6.84276 c 0,0.4782 0.0826,0.7956 0.2476,0.9522 0.1693,0.1565 0.5184,0.2348 1.0474,0.2348 V 17 H 9.95508 v -0.3301 c 0.50782,0 0.84422,-0.0783 1.00932,-0.2348 0.1692,-0.1608 0.2539,-0.4782 0.2539,-0.9522 V 8.64014 C 10.5835,8.65706 10.0968,8.75651 9.7583,8.93848 9.13623,9.27702 8.78499,9.90967 8.70459,10.8364 H 8.33008 Z M 12,19 c 2.3972,0 4.513,-1.205 5.7746,-3.0423 l 1.1063,1.8438 C 17.23,19.7576 14.7601,21 12,21 7.02944,21 3,16.9706 3,12 3,11.662 3.01863,11.3283 3.05493,11 H 5.07089 C 5.02417,11.3266 5,11.6605 5,12 c 0,3.866 3.13401,7 7,7 z M 6.2254,8.04233 C 7.48704,6.205 9.6028,5 12,5 c 3.866,0 7,3.13401 7,7 0,0.3395 0.0467,-0.3266 0,0 h 2 c 0.0363,-0.3283 0,0.338 0,0 C 21,7.02944 16.9706,3 12,3 9.23993,3 6.77005,4.24243 5.11912,6.19853 Z",T="M16.456941 4.788366C14.346076 4.788366 12.619002 6.6581714 12.619002 8.943489C12.619002 8.943489 14.537971 8.943489 14.537971 8.943489C14.537971 7.8008302 15.401507 6.8659275 16.456941 6.8659275C17.512374 6.8659275 18.375911 7.8008302 18.375911 8.943489C18.375911 11.021051 15.497455 10.709418 15.497455 14.137394C15.497455 14.137394 15.497455 15.176174 15.497455 15.176174C15.497455 15.176174 17.416426 15.176174 17.416426 15.176174C17.416426 15.176174 17.416426 14.137394 17.416426 14.137394C17.416426 11.852075 20.294881 11.540442 20.294881 8.943489C20.294881 6.6581714 18.567807 4.788366 16.456941 4.788366C16.456941 4.788366 16.456941 4.788366 16.456941 4.788366M15.497455 17.253737C15.497455 17.253737 17.416426 17.253737 17.416426 17.253737C17.416426 17.253737 17.416426 19.331299 17.416426 19.331299C17.416426 19.331299 15.497455 19.331299 15.497455 19.331299C15.497455 19.331299 15.497455 17.253737 15.497455 17.253737M10.170443 4.7001474C10.170443 4.7001474 3.8418003 19.29756 3.8418003 19.29756C3.8418003 19.29756 5.8253586 19.28441 5.8253586 19.28441C5.8253586 19.28441 12.164521 4.7137829 12.164521 4.7137829",O="M 16,16 H 22 V 18 H 16 Z M 14,6 H 22 V 8 H 14 Z M 14,11 H 22 V 13 H 14 Z M 8,5.0572534 C 6.3794438,5.0572534 5.0572534,6.3794438 5.0572534,8 5.057254,9.6205557 6.3794443,10.942747 8,10.942747 9.6205553,10.942746 10.942746,9.6205553 10.942747,8 10.942747,6.3794443 9.6205557,5.057254 8,5.0572534 Z M 14,19 H 2 C 2,19 1.99997,12 7.99997,12 14,12 14,19 14,19 Z"},1204:function(e,t,n){"use strict";n.d(t,{K:function(){return r}});var i=n(1744),o=n(4168);const r=(e,t)=>e&&e[t]||`${(0,i.si)("macroelement.urlparameterprefix",o.y.MacroPlugin)}: ${t}`},7828:function(e,t,n){"use strict";n.d(t,{GI:function(){return c},WM:function(){return l},uO:function(){return a}});var i=n(4168),o=n(8152),r=n(1744);const s=e=>(0,r.si)(e,i.y.MacroPlugin),a=(e,t,i,r)=>n(2404)({macroClass:o.Km,macroType:e,macroValue:t,macroDefaultValue:i,macroDisplayValue:r}),c=(e=i.e.INSERT,t="",r="")=>n(6784)({value:t,defaultValue:r,actionButtonText:e===i.e.INSERT?s("actionbutton.insert"):s("actionbutton.save"),defaultTextLabel:s("label.defaulttext"),urlParameterLabel:s("label.urlparameter"),command:e===i.e.INSERT?o.UD:o.kB}),l=(e,t,r="",a="")=>n(988)({macros:t,macroValue:r,macroDefaultValue:a,actionButtonText:e===i.e.INSERT?s("actionbutton.insert"):s("actionbutton.save"),defaultTextLabel:s("label.defaulttext"),macroTypeLabel:s("label.contactattribute"),command:e===i.e.INSERT?o.WW:o.s1})},1744:function(e,t,n){"use strict";n.d(t,{C2:function(){return d},Vt:function(){return l},si:function(){return c}});var i=n(6012),o=n(1148),r=n(6356),s=n(655),a=n(564);const c=(e,t)=>{const n=`kentico.components.widget.richtext.${t}`;return(0,i.Km)(s.UH.LocalizationService).getLocalizationWithoutPrefix(`${n}.${e}`)||`${n}.${e}`},l=e=>{switch(e){case 0:return"page";case 1:return"media";case 2:return"attachment";default:return null}},d=async(e,t)=>{const n=(0,r.o)(e,"linkUrl",encodeURIComponent(t));try{const e=await fetch(n);if(!e.ok)throw new Error(e.statusText);return e.json()}catch(e){console.error(e)}return new a.w(o.q.EXTERNAL)}},4168:function(e,t,n){"use strict";var i,o;n.d(t,{e:function(){return o},y:function(){return i}}),function(e){e.MacroPlugin="macroplugin",e.LinkPlugin="linkplugin",e.ImagePlugin="imageplugin"}(i||(i={})),function(e){e[e.INSERT=0]="INSERT",e[e.UPDATE=1]="UPDATE"}(o||(o={}))},3440:function(e,t,n){"use strict";n.d(t,{I:function(){return S},M:function(){return l}});var i=n(7588),o=n.n(i),r=(n(3064),n(6012)),s=n(2620),a=n(655);const c="data-value-for",l="ktc-object-selector-dropdown",d="ktc-object-selector-container",u="ktc-object-selector-dropdown__search--hide",p="select2-search__field",g="ktc-object-selector-dropdown--searching",f="ktc-object-selector-wrapper--height-limited",h=o().fn.select2.amd.require("select2/utils"),m=o().fn.select2.amd.require("select2/dropdown"),y=o().fn.select2.amd.require("select2/dropdown/search"),b=o().fn.select2.amd.require("select2/dropdown/minimumResultsForSearch"),v=o().fn.select2.amd.require("select2/dropdown/attachBody"),k=o().fn.select2.amd.require("select2/dropdown/dropdownCss"),w=h.Decorate(h.Decorate(h.Decorate(h.Decorate(m,y),b),k),v);let _=!1;const S=()=>{document.addEventListener("Kentico.Selector.ObjectSelector.Initialize",(e=>{const t=o()(e.target);let n=!1;const i=parseInt(t.attr("data-max-items-limit"),10),r=1!==i;t.removeAttr("name");let a={multiple:r,maximumSelectionLength:r?i:0,placeholder:O("noitemselected"),minimumResultsForSearch:7,closeOnSelect:!r,selectionCssClass:`${d} ktc-form-control`,dropdownCssClass:`${l} ${u}`,ajax:{url:t.attr("data-get-objects-endpoint-url"),dataType:"json",delay:400,data:e=>({pageIndex:(null==e?void 0:e.page)-1||0,searchTerm:e.term}),processResults:(e,t)=>({results:e.items.map((e=>({id:JSON.stringify(e.value),text:e.text}))),pagination:{more:e.nextPageAvailable}}),transport(e,i,r){const s=o().ajax(e);return s.then((e=>{if(!n){const e=t.data("select2").$dropdown.find(`.${l}`);e.removeClass(u),e.find(`input.${p}`).focus(),n=!0}return e})).then(i),s.fail(r),s},cache:!0},language:{loadingMore:()=>O("loadingmore"),noResults:()=>O("noresults"),searching:()=>O("searching")}};r&&(a=Object.assign(Object.assign({},a),{dropdownAdapter:w,templateResult:e=>o()("<span>"+e.text+"</span>")})),t.select2(a),T(t,r);const c=t[0].closest(".ktc-object-selector-wrapper"),g=c.querySelector(".clear-button");if(g.addEventListener("click",(()=>{t.empty().val(null).trigger("change"),I((0,s.W)(t))})),r){const e=()=>{c.classList.remove(f)};c.querySelector(".ktc-show-all-items-container").addEventListener("click",e),g.addEventListener("click",e),c.classList.add(f);const t=c.querySelector(`.${d}`);t.scrollHeight<=t.clientHeight&&e();c.querySelector(`.${p}`).addEventListener("focus",(function(){const e=o()(t);e.prop("tabindex",0),e.trigger("focus"),o()(this).prop("disabled",!0)}))}}))},T=(e,t)=>{e.on("change.select2",(function(){const e=document.querySelector(`[${c}='${this.id}']`),t=o()(this).val();e.value=t?`[${t}]`:""})).one("select2:open",(e=>{const{$dropdown:t}=o()(e.target).data("select2");t.find(`input.${p}`).prop("placeholder",O("searchplaceholder"))})).on("select2:open",(e=>{const{$dropdown:t}=o()(e.target).data("select2");setTimeout((()=>{t.find(`.${l}`).addClass(g)}),200)})).on("select2:closing",(t=>{const{$dropdown:n}=o()(t.target).data("select2");n.find(`.${l}`).removeClass(g),I((0,s.W)(e))})),t&&e.on("select2:opening select2:closing",(function(){o()(this).parent().find(`.${d}`).prop("tabindex",0);o()(this).parent().find(`.${p}`).prop("disabled",!0)})).on("select2:unselect",(t=>{var n;t.target.querySelector(`[value='${t.params.data.id}']`).remove();const i=e.select2("data").length,o=e.data("select2").options.options.maximumSelectionLength,r=o-i==1,a=e.select2("isOpen");o>0&&r&&a?(_=!0,e.select2("close")):null===(n=t.params.originalEvent)||void 0===n||n.stopPropagation(),a||I((0,s.W)(e))}))},O=e=>(0,r.Km)(a.UH.LocalizationService).getLocalizationWithoutPrefix(`kentico.components.objectselector.${e}`),I=e=>{if(_)_=!1;else{const t=document.querySelector(`[${c}='${e.id}']`);t.dispatchEvent(new Event("input")),t.dispatchEvent(new Event("change"))}}},8360:function(e,t,n){"use strict";n.d(t,{a:function(){return a}});var i=n(4468),o=n(7820),r=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},s=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let a=class{constructor(e){this.defaultPrefix="kentico.builder",this.getLocalizationWithoutPrefix=(e,...t)=>{let n=this.getRawLocalization(e);return void 0===n?e:(t.length>0&&(n=o.sj.format(n,...t)),n)},this.specializedPrefix=e}getLocalization(e,...t){let n=this.getRawLocalization(this.getResourceStringKey(this.specializedPrefix,e));return void 0===n&&(n=this.getRawLocalization(this.getResourceStringKey(this.defaultPrefix,e))),void 0===n?e:(t.length>0&&(n=o.sj.format(n,...t)),n)}getCultureCode(){return window.kentico.localization.culture}getRawLocalization(e){return window.kentico.localization.strings[e]}getResourceStringKey(e,t){return e+"."+t}};a=r([(0,i.q)(),s("design:paramtypes",[String])],a)},4980:function(e,t,n){"use strict";n.d(t,{Y:function(){return g}});var i=n(4468),o=n(1332),r=n(6012),s=n(240),a=n(7820),c=n(2632),l=n(3676),d=n(9968),u=n(655),p=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let g=class{registerListener(e,t,n){window.addEventListener("message",this.makeReceiveMessage(e,t,n))}makeReceiveMessage(e,t,n){return async i=>{if(i.data&&i.data.hasOwnProperty("msg")&&i.data.msg.startsWith("Kentico.")){if(!a._k.contains(n,i.origin.toLowerCase())){let e=(0,r.Km)(u.UH.LocalizationService).getLocalization("messaging.forbiddenorigin");return e=a.sj.format(e,i.origin),void c.Q.logError(e)}return this.processIncomingMessage(e,t)(i)}}}processIncomingMessage(e,t){return async n=>{if(n.data.msg===u.MX.SAVE_CONFIGURATION)try{n.data.contentModified&&await(0,o.Cw)(e(),n.data.guid),(0,l.postMessage)(u.MX.CONFIGURATION_STORED,JSON.stringify(e().displayedWidgetVariants),n.origin)}catch(e){c.Q.logException(e)}if(n.data.msg===u.MX.LOAD_DISPLAYED_WIDGET_VARIANTS){const e=JSON.parse(n.data.data)||{};t((0,d.W)(e))}n.data.msg===u.MX.SAVE_TEMP_CONFIGURATION&&(n.data.contentModified&&await(0,o.Cw)(e(),n.data.guid),(0,l.postMessage)(u.MX.TEMP_CONFIGURATION_STORED,null,n.origin)),n.data.msg===u.MX.CONFIRM_RESPONSE&&(0,s.Y)(n.data.result)}}};g=p([(0,i.q)()],g)},2972:function(e,t,n){"use strict";n.d(t,{o:function(){return r}});var i=n(4468),o=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let r=class{getWidgetElements(e){return e.map((({typeIdentifier:e,iconClass:t,name:n,description:i})=>({description:i,iconClass:t,name:n,key:e})))}getSectionElements(e){return this.getWidgetElements(e)}};r=o([(0,i.q)()],r)},4236:function(e,t,n){"use strict";n.d(t,{M:function(){return r},t:function(){return s}});var i=n(3948),o=n(7820);const r=async(e,t)=>(await i.KY.post(e,JSON.stringify({properties:t}),{headers:{"Content-Type":"application/json"}})).data,s=async(e,t)=>{const n=await i.KY.post(e,t);return o._k.contains(n.headers["content-type"],"text/html")?Promise.resolve({data:n.data,status:"invalid"}):o._k.contains(n.headers["content-type"],"application/json")?Promise.resolve({data:n.data,status:"valid"}):Promise.resolve({data:null,status:"invalid"})}},3640:function(e,t,n){"use strict";n.d(t,{M:function(){return A}});var i=n(4468),o=n(1332),r=n(7820),s=n(8016),a=n.n(s),c=n(1868),l=n.n(c),d=n(5080),u=n.n(d),p=n(9576),g=n.n(p),f=n(3332),h=n(3676),m=n(655);const y=(e,t)=>{const n=t.map((e=>e.identifier));return e=Object.assign(Object.assign({},e),{editableAreas:O(e.editableAreas,"sections",n),sections:u()(e.sections,n)}),b(e,t)},b=(e,t)=>{const n=a()(t,(e=>e.zones)),i=Object.values(g()(e.zones,n));return v(e,i)},v=(e,t)=>{const n=t.map((e=>e.identifier));return e=Object.assign(Object.assign({},e),{sections:O(e.sections,"zones",n),zones:u()(e.zones,n)}),k(e,t)},k=(e,t)=>{const n=a()(t,(e=>e.widgets)),i=Object.values(g()(e.widgets,n));return w(e,i)},w=(e,t)=>{const n=t.map((e=>e.identifier));return e=Object.assign(Object.assign({},e),{zones:O(e.zones,"widgets",n),widgets:u()(e.widgets,n)}),_(e,t)},_=(e,t)=>{const n=a()(t,(e=>e.variants)),i=Object.values(g()(e.widgetVariants,n));return S(e,i)},S=(e,t)=>{const n=t.map((e=>e.identifier));return Object.assign(Object.assign({},e),{widgets:O(e.widgets,"variants",n),widgetVariants:u()(e.widgetVariants,n)})},T=(e,t)=>{const n=Object.values(e.widgets).filter((e=>r._k.contains(t,e.conditionType))),i=a()(n,(e=>e.variants.slice(1))),o=Object.values(g()(e.widgetVariants,i));return e=Object.assign(Object.assign({},e),{widgets:l()(e.widgets,(e=>r._k.contains(t,e.conditionType)?u()(e,"conditionType"):e))}),S(e,o)},O=(e,t,n)=>l()(e,(e=>Object.assign(Object.assign({},e),{[t]:e[t].filter((e=>!r._k.contains(n,e)))})));var I=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};let A=class{async getConfiguration(e){const t=f.mz(),n=await o.YP();let i=f.Ar(Object.keys(t.editableAreas),n);const s=r.wd.isEmpty(i.editableAreas);i=f.yO(t.editableAreas,i);let c=Object.assign(Object.assign({config:Object.assign({},e),editableAreasConfiguration:f.JN()},i),{markups:{sections:{},variants:{}},metadata:await f.Ev(),widgetZonesConfiguration:{}});return c=(e=>{const t=Object.values(e.sections).filter((t=>!e.metadata.sections[t.type]));return 0!==t.length?((0,f.m6)("section.missingmetadata",r._k.getUniqueValues(t.map((e=>e.type)))),(0,h.postMessage)(m.MX.CONFIGURATION_CHANGED,null,"*"),y(e,t)):e})(c),c=(e=>{const t=Object.values(e.widgets).filter((t=>!e.metadata.widgets[t.type]));return 0!==t.length?((0,f.m6)("widget.missingmetadata",r._k.getUniqueValues(t.map((e=>e.type)))),(0,h.postMessage)(m.MX.CONFIGURATION_CHANGED,null,"*"),w(e,t)):e})(c),c=(e=>{const t=r._k.getUniqueValues(Object.values(e.widgets).filter((t=>t.conditionType&&!e.metadata.personalizationConditionTypes[t.conditionType])).map((e=>e.conditionType)));return 0!==t.length?((0,f.m6)("conditiontype.missingmetadata",t),(0,h.postMessage)(m.MX.CONFIGURATION_CHANGED,null,"*"),T(e,t)):e})(c),await f.MR(c),await f.Wg(c),await f.Ir(c),f.s5(c),c=(e=>{const t=new Set,n=a()(Object.values(e.sections),(n=>{const i=[];for(let o=(0,f.wL)(e.markups.sections[n.identifier].markup);o<n.zones.length;o++){const r=e.sections[n.identifier].zones[o];0!==e.zones[r].widgets.length&&t.add(n.type),i.push(r)}return i}));0!==t.size&&((0,h.postMessage)(m.MX.CONFIGURATION_CHANGED,null,"*"),(0,f.m6)("section.missingNonemptyZone",[...t]));const i=Object.values(g()(e.zones,n));return v(e,i)})(c),f.gH(c),f.Q1(c),f.WS(c,!s),c=f.ak(c),c=f.cF(c),c}};A=I([(0,i.q)()],A)},3332:function(e,t,n){"use strict";n.d(t,{Ar:function(){return k},Ev:function(){return W},Ir:function(){return S},JN:function(){return z},M5:function(){return x},MR:function(){return E},Q1:function(){return D},WS:function(){return O},Wg:function(){return M},ak:function(){return A},c5:function(){return j},cF:function(){return _},gH:function(){return T},m6:function(){return H},mz:function(){return R},s5:function(){return I},uq:function(){return P},wL:function(){return L},yO:function(){return w}});var i=n(7416),o=n.n(i),r=n(1868),s=n.n(r),a=n(9576),c=n.n(a),l=n(2550),d=n(1332),u=n(6012),p=n(7820),g=n(2632),f=n(3676),h=n(655),m=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};const y="data-kentico-editable-area-id",b=/data-kentico-allowed-widgets=\"(?<allowedWidgets>\[[^\][]*])/,v=/<widget-zone (zone-name="(?<zoneName>[^"]+)")?.+?<\/widget-zone>/g,k=(e,t)=>{const n=c()(t.editableAreas,e),i=o()(Object.values(n).map((e=>e.sections))),r=c()(t.sections,i),s=o()(Object.values(r).map((e=>e.zones))),a=c()(t.zones,s),l=o()(Object.values(a).map((e=>e.widgets))),d=c()(t.widgets,l),u=o()(Object.values(d).map((e=>e.variants))),g=c()(t.widgetVariants,u),m={editableAreas:n,pageTemplate:t.pageTemplate,sections:r,zones:a,widgets:d,widgetVariants:g};if(Object.keys(t.editableAreas).length>Object.keys(m.editableAreas).length){const n=Object.values(t.editableAreas).filter((t=>!p._k.contains(e,t.identifier))).map((e=>e.identifier));H("areas.excessAreas",n),(0,f.postMessage)(h.MX.CONFIGURATION_CHANGED,null,"*")}return m},w=(e,t)=>Object.assign(Object.assign({},t),{editableAreas:Object.assign(Object.assign({},e),t.editableAreas)}),_=async e=>{if(e.pageTemplate){const t=e.metadata.pageTemplates[e.pageTemplate.identifier];if(null===e.pageTemplate.properties&&t.hasProperties){const n=await d.t(t.defaultPropertiesUrl);return Object.assign(Object.assign({},e),{pageTemplate:Object.assign(Object.assign({},e.pageTemplate),{properties:n})})}}return e},S=async e=>{const t=Object.values(e.editableAreas).filter((e=>0===e.sections.length)),n=await(async(e,t)=>{const n=[];return t.forEach((t=>{const i=e.editableAreasConfiguration[t.identifier].defaultSection,o=e.metadata.sections[i];!0===o.hasProperties?n.push(d.t(o.defaultPropertiesUrl)):n.push(Promise.resolve(null))})),Promise.all(n)})(e,t),i=await(async(e,t,n)=>{const i=[];return t.forEach(((t,o)=>{const r=e.editableAreasConfiguration[t.identifier].defaultSection,s=e.metadata.sections[r];i.push(d.Yr(s.markupUrl,n[o]))})),Promise.all(i)})(e,t,n);t.forEach(((t,o)=>{const r=(0,l.c)(),s=e.editableAreasConfiguration[t.identifier].defaultSection,a=P(i[o]),c=L(a.markup);t.sections.push(r),e.sections[r]={identifier:r,properties:n[o],type:s,zones:[]},e.markups.sections[r]=a;for(let t=0;t<c;t++)C(e,r)}))},T=e=>{Object.values(e.sections).forEach((t=>{const n=L(e.markups.sections[t.identifier].markup);for(let i=t.zones.length;i<n;++i)C(e,t.identifier)}))},O=(e,t)=>{const n=e.markups.sections;let i=!1;Object.keys(n).forEach((t=>{const o=x(n[t].markup);let r=e.sections[t].zones;Object.values(c()(e.zones,r)).forEach((({identifier:e,name:t})=>{if(t){const n=o.findIndex((e=>e.name===t)),s=r.findIndex((t=>t===e));n>-1&&n!==s&&(i=!0,r=p._k.swap(r,s,n))}})),e.sections[t]=Object.assign(Object.assign({},e.sections[t]),{zones:r}),o.forEach((({name:n},o)=>{const r=e.sections[t].zones[o],s=e.zones[r];if(s.name!==n){if(n)e.zones[r]=Object.assign(Object.assign({},s),{name:n});else{const{name:t}=s,n=m(s,["name"]);e.zones[r]=Object.assign({},n)}i=!0}}))})),i&&t&&(H("widgetzone.namechanged",[]),(0,f.postMessage)(h.MX.CONFIGURATION_CHANGED,null,"*"))},I=e=>{const t=p._k.getUniqueValues(Object.values(e.sections).filter((t=>0===L(e.markups.sections[t.identifier].markup))).map((e=>e.type)));0!==t.length&&H("section.withoutZones",t)},A=e=>Object.assign(Object.assign({},e),{displayedWidgetVariants:s()(e.widgets,(e=>e.variants[0]))}),C=(e,t)=>{const n=(0,l.c)();e.zones[n]={identifier:n,widgets:[]},e.sections[t].zones.push(n)},E=async e=>{const t=Object.values(e.widgets),n=[];t.forEach((t=>{const i=e.metadata.widgets[t.type];t.variants.forEach((t=>{n.push(d.Yr(i.markupUrl,e.widgetVariants[t].properties))}))}));const i=await Promise.all(n);let o=0;t.forEach((t=>{t.variants.forEach((t=>{e.markups.variants[t]={markup:i[o],isDirty:!1},++o}))}))},M=async e=>{const t=Object.values(e.sections),n=[];t.forEach((t=>{n.push(d.Yr(e.metadata.sections[t.type].markupUrl,t.properties))}));const i=await Promise.all(n);t.forEach(((t,n)=>{e.markups.sections[t.identifier]=P(i[n])}))},P=e=>{let t=0;const n=new RegExp('<div .*?data-kentico-widget-zone="([^"]*)"></div>',"g"),i=(e,t,n)=>`<widget-zone${t?` zone-name="${t}" `:" "}:section-identifier="sectionIdentifier" :area-identifier="areaIdentifier" :zone-index="${e}"${n?" "+n:""}></widget-zone>`;return{markup:e=e.replace(n,((e,n)=>{const o=e.match(b);return null!==o?i(t++,n,o[0]):i(t++,n)}))}},D=e=>{const t=e.markups.sections;Object.keys(t).forEach((n=>{const{markup:i,restrictions:o}=j(t[n].markup,e.sections[n].zones);e.markups.sections[n]={markup:i},Object.keys(o).forEach((t=>{e.widgetZonesConfiguration[t]={widgetRestrictions:o[t].widgetRestrictions}}))}))},j=(e,t)=>{const n={};let i=0;return{markup:e.replace(v,(e=>{let o=null;const r=e.replace(b,((e,t)=>{const n=JSON.parse(t.replace(/&quot;/g,'"'));return o=n,""}));return n[t[i]]={widgetRestrictions:o},i++,r})),restrictions:n}},L=e=>{const t=e.match(v);return null!==t?t.length:0},x=e=>[...e.matchAll(v)].map((e=>{let t={identifier:(0,l.c)(),widgets:[]};const n=e.groups.zoneName;return n&&(t=Object.assign(Object.assign({},t),{name:n})),t})),z=()=>{const e={},t=document.querySelectorAll(`[${y}]`);return Array.prototype.forEach.call(t,(t=>{const n={defaultSection:t.dataset.kenticoDefaultSection,widgetRestrictions:t.dataset.kenticoAllowedWidgets?JSON.parse(t.dataset.kenticoAllowedWidgets):null,sectionRestrictions:t.dataset.kenticoAllowedSections?JSON.parse(t.dataset.kenticoAllowedSections):null};e[t.dataset.kenticoEditableAreaId]=n})),e},R=()=>{const e=document.querySelectorAll(`[${y}]`),t=Array.prototype.map.call(e,(e=>e.dataset.kenticoEditableAreaId)),n={editableAreas:{},sections:{},zones:{},widgets:{},widgetVariants:{}};return t.forEach((e=>{n.editableAreas[e]={identifier:e,sections:[]}})),n},W=async()=>d.Sw(),H=(e,t)=>{const n=(0,u.Km)(h.UH.LocalizationService).getLocalization(e,t.join(", "));g.Q.logWarning(n)}},3676:function(e,t,n){"use strict";n.r(t),n.d(t,{postMessage:function(){return i}});const i=(e,t,n)=>{window.parent.postMessage({msg:e,data:t},n)}},1044:function(e,t,n){"use strict";n.d(t,{w:function(){return a}});var i=n(2632),o=n(3676),r=n(6012),s=n(655);const a=()=>({logger:i.Q,messaging:o,localizationService:(0,r.Km)(s.UH.LocalizationService)})},5208:function(e,t,n){"use strict";n.d(t,{od:function(){return f.od},WG:function(){return y},Sk:function(){return m.Sk},cL:function(){return f.cL},sv:function(){return k.sv},Sq:function(){return g.Sq},_2:function(){return l},Sw:function(){return u},wx:function(){return h.wx},wp:function(){return h.wp},uS:function(){return o.uS},qt:function(){return h.qt},Ko:function(){return o.Ko},ol:function(){return a},OO:function(){return c},qU:function(){return d},Yj:function(){return k.Yj},uw:function(){return f.uw},YX:function(){return v},UH:function(){return k.UH},_Q:function(){return g._Q},y0:function(){return f.y0},CK:function(){return b},S9:function(){return m.S9},WQ:function(){return i.W},K2:function(){return k.K2},Gw:function(){return h.Gw},iu:function(){return i.i},cr:function(){return g.cr},Om:function(){return g.Om},wP:function(){return g.wP},WT:function(){return o.WT},SY:function(){return s},U3:function(){return o.U3},Am:function(){return h.Am},wb:function(){return h.wb},oR:function(){return k.oR},S_:function(){return m.S_},M5:function(){return m.M5},W2:function(){return p.W}});var i=n(9968),o=n(1748),r=n(8980);const s=(0,r.createAction)("highlightedSection/SHOW_SECTION_HEADER",((e,t)=>({sectionIdentifier:e,headerPosition:t})))(),a=(0,r.createAction)("highlightedSection/HIDE_SECTION_HEADER")(),c=(0,r.createAction)("highlightedSection/HIGHLIGHT_SECTION_BORDER",((e=null)=>({sectionIdentifier:e})))(),l=(0,r.createAction)("highlightedSection/DEHIGHLIGHT_SECTION_BORDER")(),d=(0,r.createAction)("highlightedWidget/HIGHLIGHT_WIDGET",(e=>({widgetIdentifier:e})))(),u=(0,r.createAction)("highlightedWidget/DEHIGHLIGHT_WIDGET")();var p=n(8196),g=n(100),f=n(1376),h=n(7719),m=n(7433);const y=(0,r.createAction)("widgets/ADD",((e,t,n,i,o)=>({widget:e,zoneIdentifier:t,position:n,variant:i,markup:o})))(),b=(0,r.createAction)("widgets/REMOVE",((e,t)=>({widget:e,zoneIdentifier:t})))(),v=(0,r.createAction)("widgets/MOVE",((e,t,n,i)=>({widgetIdentifier:e,originalZoneIdentifier:t,targetZoneIdentifier:n,position:i})))();var k=n(1396)},9968:function(e,t,n){"use strict";n.d(t,{W:function(){return r},i:function(){return o}});var i=n(8980);const o=(0,i.createAction)("displayedWidgetVariants/SELECT",((e,t)=>({variantIdentifier:e,widgetIdentifier:t})))(),r=(0,i.createAction)("displayedWidgetVariants/RESTORE",(e=>({savedWidgetVariants:e})))()},6100:function(e,t,n){"use strict";n.d(t,{g:function(){return c}});var i=n(5080),o=n.n(i),r=n(8980),s=n(5208);const a={},c=(e=a,t)=>{switch(t.type){case(0,r.getType)(s.WG):return l(e,t.payload.widget.identifier,t.payload.variant.identifier);case(0,r.getType)(s.CK):return o()(e,t.payload.widget.identifier);case(0,r.getType)(s.Sk):return l(e,t.payload.widgetIdentifier,t.payload.variant.identifier);case(0,r.getType)(s.iu):return l(e,t.payload.widgetIdentifier,t.payload.variantIdentifier);case(0,r.getType)(s.cL):case(0,r.getType)(s.y0):return o()(e,t.payload.widgetsToRemove.map((e=>e.identifier)));case(0,r.getType)(s.WQ):return Object.assign(Object.assign({},e),t.payload.savedWidgetVariants);default:return e}},l=(e,t,n)=>Object.assign(Object.assign({},e),{[t]:n})},1748:function(e,t,n){"use strict";n.d(t,{Ko:function(){return a},U3:function(){return o},WT:function(){return s},uS:function(){return r}});var i=n(8980);const o=(0,i.createAction)("dragAndDrop/START_DRAGGING",((e,t,n,i,o,r,s)=>({entity:e,typeIdentifier:t,itemIdentifier:n,sourceContainerIdentifier:i,originalPosition:o,bannedAreas:r,bannedZones:s})))(),r=(0,i.createAction)("dragAndDrop/END_DRAGGING")(),s=(0,i.createAction)("dragAndDrop/SHOW_DROP_MARKER",((e,t)=>({containerIdentifier:e,dropMarkerPosition:t})))(),a=(0,i.createAction)("dragAndDrop/HIDE_DROP_MARKER")()},676:function(e,t,n){"use strict";n.d(t,{w:function(){return a}});var i=n(8980),o=n(5208),r=n(5312);const s={sectionIdentifier:null,headerPosition:null,highlightBorder:!1,freezeHighlight:!1},a=(e=s,t)=>{switch(t.type){case(0,i.getType)(o.SY):return Object.assign(Object.assign({},s),{sectionIdentifier:t.payload.sectionIdentifier,headerPosition:t.payload.headerPosition});case(0,i.getType)(o.ol):case(0,i.getType)(o.cL):case(0,i.getType)(o.U3):return Object.assign({},s);case(0,i.getType)(o.OO):return Object.assign(Object.assign({},e),{sectionIdentifier:t.payload.sectionIdentifier||e.sectionIdentifier,highlightBorder:!0});case(0,i.getType)(o._2):return Object.assign(Object.assign({},e),{highlightBorder:!1});case(0,i.getType)(o._Q):return t.payload.popupType===r.HH.ChangeSection?e:Object.assign({},s);default:return e}}},1316:function(e,t,n){"use strict";n.d(t,{m:function(){return o}});var i=n(9176);const o=e=>{const t=e||!1,n=window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__;return t&&n?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:i.Jn}},8196:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var i=n(8980);const o=(0,i.createAction)("markups/UPDATE_WIDGET_VARIANT_MARKUPS",(e=>({markups:e})))()},9464:function(e,t,n){"use strict";n.d(t,{C:function(){return f}});var i=n(8016),o=n.n(i),r=n(5080),s=n.n(r),a=n(9176),c=n(8980),l=n(5208),d=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};const u={},p=(e,t)=>{switch(t.type){case(0,c.getType)(l.WG):case(0,c.getType)(l.Sk):return{markup:t.payload.markup,isDirty:!1};case(0,c.getType)(l.M5):return Object.assign(Object.assign({},e),{markup:t.payload.markup?t.payload.markup:e.markup,isDirty:!t.payload.markup});default:return e}},g=e=>Object.keys(e).reduce(((t,n)=>(t[n]={isDirty:!1,markup:e[n]},t)),{}),f=(0,a.TL)({sections:(e=u,t)=>{switch(t.type){case(0,c.getType)(l.od):return Object.assign(Object.assign({},e),{[t.payload.section.identifier]:t.payload.markup});case(0,c.getType)(l.cL):return Object.assign(Object.assign({},e),{[t.payload.oldSection.identifier]:t.payload.newMarkup});case(0,c.getType)(l.y0):return s()(e,t.payload.section.identifier);default:return e}},variants:(e=u,t)=>{switch(t.type){case(0,c.getType)(l.WG):case(0,c.getType)(l.Sk):return Object.assign(Object.assign({},e),{[t.payload.variant.identifier]:p(void 0,t)});case(0,c.getType)(l.S9):const n=e,i=t.payload.variantIdentifier;n[i];return d(n,["symbol"==typeof i?i:i+""]);case(0,c.getType)(l.cL):case(0,c.getType)(l.y0):return s()(e,o()(t.payload.widgetsToRemove,(e=>e.variants)));case(0,c.getType)(l.CK):return s()(e,t.payload.widget.variants);case(0,c.getType)(l.M5):return Object.assign(Object.assign({},e),{[t.payload.variantIdentifier]:p(e[t.payload.variantIdentifier],t)});case(0,c.getType)(l.W2):return Object.assign(Object.assign({},e),g(t.payload.markups));default:return e}}})},6300:function(e,t,n){"use strict";n.d(t,{g:function(){return r}});var i=n(3676),o=n(655);const r=e=>t=>n=>{const{editableAreas:r,sections:s,pageTemplate:a,widgets:c,zones:l,widgetVariants:d}=e.getState(),u=t(n),{editableAreas:p,sections:g,pageTemplate:f,widgets:h,zones:m,widgetVariants:y}=e.getState();return a===f&&r===p&&s===g&&l===m&&c===h&&d===y||(0,i.postMessage)(o.MX.CONFIGURATION_CHANGED,null,"*"),u}},2364:function(e,t,n){"use strict";n.d(t,{m:function(){return o}});var i=n(2632);const o=e=>e=>t=>{try{return e(t)}catch(e){i.Q.logException(e)}}},1396:function(e,t,n){"use strict";n.d(t,{K2:function(){return r},UH:function(){return o},Yj:function(){return c},oR:function(){return a},sv:function(){return s}});var i=n(8980);const o=(0,i.createAction)("modalDialogs/OPEN",((e,t,n,i,o,r,s,a,c,l,d,u,p)=>({identifier:e,type:t,title:n,markupUrl:i,model:o,tabs:r,activeTabIndex:s,theme:a,width:c,maximized:l,showFooter:d,applyButtonText:u,cancelButtonText:p})))(),r=(0,i.createAction)("modalDialogs/SELECT_TAB",((e,t)=>({dialogIndex:e,tabIndex:t})))(),s=(0,i.createAction)("modalDialogs/CLOSE",(e=>({dialogIndex:e})))(),a=(0,i.createAction)("modalDialogs/UPDATE_MARKUP",((e,t)=>({dialogIndex:e,markup:t})))(),c=(0,i.createAction)("modalDialogs/INVALIDATE",(e=>({dialogIndex:e})))()},7808:function(e,t,n){"use strict";n.d(t,{O:function(){return r}});var i=n(655),o=n(1396);class r{constructor(e){this.dialogDataCollector=e,this.openModalDialog=e=>(t,n,{localizationService:r,messaging:s})=>{const a=n(),{componentIdentifier:c,dialogType:l,showFooter:d,applyButtonText:u,cancelButtonText:p,dialogWidth:g,maximized:f,dialogTabs:h=[],activeTabIndex:m=0}=e,y=this.dialogDataCollector(e,a,r),b=a.modalDialogs.theme||y.theme||i.So.Widget;s.postMessage(i.MX.OPEN_MODAL_DIALOG,null,"*"),t(o.UH(c,l,y.title,y.markupUrl,y.model,h,m,b,g,f,d,u,p))}}}},5492:function(e,t,n){"use strict";var i;n.d(t,{S:function(){return i}}),function(e){e.WidgetProperties="WidgetProperties",e.SectionProperties="SectionProperties",e.TemplateProperties="TemplateProperties",e.Custom="Custom"}(i||(i={}))},100:function(e,t,n){"use strict";n.d(t,{Om:function(){return a},Sq:function(){return s},_Q:function(){return r},cr:function(){return c},wP:function(){return l}});var i=n(8980),o=n(5312);const r=(0,i.createAction)("popup/OPEN",((e,t,n,i,r=null,s=null,a=null,c=o.a_.Single,l=0)=>({componentIdentifier:e,horizontalPosition:t,verticalPosition:n,popupType:i,listingOffset:r,areaIdentifier:s,zoneIdentifier:a,columnType:c,index:l})))(),s=(0,i.createAction)("popup/CLOSE")(),a=(0,i.createAction)("popup/SET_POSITION",((e,t,n)=>({horizontalPosition:e,verticalPosition:t,listingOffset:n})))(),c=(0,i.createAction)("popup/SET_FILTER",(e=>({filterPhrase:e})))(),l=(0,i.createAction)("popup/SET_RECENT_WIDGETS",(e=>({recentWidgets:e})))()},5836:function(e,t,n){"use strict";n.d(t,{y:function(){return o}});var i=n(5312);class o{constructor(e,t){this.addWidget=e,this.addSection=t,this.selectItem=e=>async(t,n)=>{const{popup:o}=n(),{componentIdentifier:r,areaIdentifier:s,zoneIdentifier:a,index:c}=o,l=r===a?c:c+1;switch(o.popupType){case i.HH.AddWidget:await t(this.addWidget(e,a,l));break;case i.HH.AddSection:await t(this.addSection(e,s,l));break;default:return}}}}},3056:function(e,t,n){"use strict";n.d(t,{R:function(){return I}});var i=n(6100),o=n(8980),r=n(5208);const s={entity:null,typeIdentifier:null,itemIdentifier:null,originalPosition:null,sourceContainerIdentifier:null,targetContainerIdentifier:null,dropMarkerPosition:null,bannedAreas:[],bannedZones:[]};var a=n(7820);const c={};var l=n(676);var d=n(9464),u=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};const p={dialogs:[],theme:null},g={componentIdentifier:null,horizontalPosition:null,verticalPosition:null,popupType:null,listingOffset:null,areaIdentifier:null,zoneIdentifier:null,columnType:null,index:null,filterPhrase:"",recentWidgets:null};var f=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};const h={},m=(e,t)=>{const n=e,i=t;n[i];return f(n,["symbol"==typeof i?i:i+""])};var y=n(9972),b=n(5312);const v={identifier:null,freezeSelection:!1,preventClickAway:!1};var k=n(5091),w=n(7860),_=n(1724),S=n(5080),T=n.n(S);const O={},I={config:(e=null)=>e,displayedWidgetVariants:i.g,dragAndDrop:(e=s,t)=>{switch(t.type){case(0,o.getType)(r.U3):return Object.assign(Object.assign({},e),{entity:t.payload.entity,typeIdentifier:t.payload.typeIdentifier,itemIdentifier:t.payload.itemIdentifier,originalPosition:t.payload.originalPosition,sourceContainerIdentifier:t.payload.sourceContainerIdentifier,bannedAreas:t.payload.bannedAreas,bannedZones:t.payload.bannedZones});case(0,o.getType)(r.uS):return Object.assign({},s);case(0,o.getType)(r.WT):return Object.assign(Object.assign({},e),{targetContainerIdentifier:t.payload.containerIdentifier,dropMarkerPosition:t.payload.dropMarkerPosition});case(0,o.getType)(r.Ko):return Object.assign(Object.assign({},e),{targetContainerIdentifier:null,dropMarkerPosition:null});default:return e}},editableAreas:(e=c,t)=>{switch(t.type){case(0,o.getType)(r.od):return Object.assign(Object.assign({},e),{[t.payload.areaIdentifier]:Object.assign(Object.assign({},e[t.payload.areaIdentifier]),{sections:a._k.insertItemIntoArray(e[t.payload.areaIdentifier].sections,t.payload.section.identifier,t.payload.position)})});case(0,o.getType)(r.y0):return Object.assign(Object.assign({},e),{[t.payload.areaIdentifier]:Object.assign(Object.assign({},e[t.payload.areaIdentifier]),{sections:e[t.payload.areaIdentifier].sections.filter((e=>e!==t.payload.section.identifier))})});case(0,o.getType)(r.uw):const{sectionIdentifier:n,originalAreaIdentifier:i,targetAreaIdentifier:s,position:c}=t.payload;let l;const d=Object.assign({},e);return i===s?l=a._k.moveItemBetweenArrays(e[i].sections,n,c):(l=a._k.moveItemBetweenArrays(e[i].sections,n,c,e[s].sections),d[s]=Object.assign(Object.assign({},e[s]),{sections:l.destinationArray})),d[i]=Object.assign(Object.assign({},e[i]),{sections:l.sourceArray}),d;default:return e}},highlightedSection:l.w,highlightedWidget:(e=null,t)=>{switch(t.type){case(0,o.getType)(r.qU):return t.payload.widgetIdentifier;case(0,o.getType)(r.Sw):case(0,o.getType)(r._Q):case(0,o.getType)(r.Gw):case(0,o.getType)(r.U3):case(0,o.getType)(r.uS):case(0,o.getType)(r.WG):return null;default:return e}},markups:d.C,modalDialogs:(e=p,t)=>{switch(t.type){case(0,o.getType)(r.UH):{const n=t.payload,{theme:i}=n,o=u(n,["theme"]),r=Object.assign(Object.assign({},o),{index:e.dialogs.length,markup:null,isValid:!0});return{dialogs:a._k.insertItemIntoArray(e.dialogs,r,e.dialogs.length),theme:i}}case(0,o.getType)(r.K2):{const{dialogIndex:n,tabIndex:i}=t.payload,o=e.dialogs[n],r=o.tabs[i];return Object.assign(Object.assign({},e),{dialogs:a._k.replaceItem(e.dialogs,Object.assign(Object.assign({},o),{activeTabIndex:i,markupUrl:r.url}),n)})}case(0,o.getType)(r.oR):{const{dialogIndex:n,markup:i}=t.payload;return Object.assign(Object.assign({},e),{dialogs:a._k.replaceItem(e.dialogs,Object.assign(Object.assign({},e.dialogs[n]),{markup:i}),n)})}case(0,o.getType)(r.Yj):{const{dialogIndex:n}=t.payload;return Object.assign(Object.assign({},e),{dialogs:a._k.replaceItem(e.dialogs,Object.assign(Object.assign({},e.dialogs[n]),{isValid:!1}),n)})}case(0,o.getType)(r.sv):return 1===e.dialogs.length?Object.assign({},p):Object.assign(Object.assign({},e),{dialogs:a._k.removeItem(e.dialogs,t.payload.dialogIndex)});default:return e}},popup:(e=g,t)=>{switch(t.type){case(0,o.getType)(r._Q):return Object.assign(Object.assign(Object.assign({},e),t.payload),{filterPhrase:""});case(0,o.getType)(r.Om):return Object.assign(Object.assign({},e),{horizontalPosition:t.payload.horizontalPosition,verticalPosition:t.payload.verticalPosition,listingOffset:t.payload.listingOffset});case(0,o.getType)(r.cr):return Object.assign(Object.assign({},e),{filterPhrase:t.payload.filterPhrase.trim()});case(0,o.getType)(r.wP):return Object.assign(Object.assign({},e),{recentWidgets:t.payload.recentWidgets});case(0,o.getType)(r.od):case(0,o.getType)(r.U3):case(0,o.getType)(r.Sq):case(0,o.getType)(r.UH):case(0,o.getType)(r.cL):case(0,o.getType)(r.WG):case(0,o.getType)(r.iu):case(0,o.getType)(r.Sk):case(0,o.getType)(r.M5):case(0,o.getType)(r.S_):case(0,o.getType)(r.CK):return Object.assign({},g);default:return e}},sections:(e=h,t)=>{switch(t.type){case(0,o.getType)(r.od):return Object.assign(Object.assign({},e),{[t.payload.section.identifier]:t.payload.section});case(0,o.getType)(r.y0):return m(e,t.payload.section.identifier);case(0,o.getType)(r.cL):return Object.assign(Object.assign({},e),{[t.payload.oldSection.identifier]:Object.assign(Object.assign({},t.payload.newSection),{identifier:t.payload.oldSection.identifier})});default:return e}},widgets:w.s,widgetSelection:(e=v,t)=>{switch(t.type){case(0,o.getType)(r.Gw):return Object.assign(Object.assign({},e),{identifier:t.payload.widgetIdentifier});case(0,o.getType)(r.U3):return t.payload.entity!==y.s.Widget?Object.assign({},v):Object.assign(Object.assign({},e),{identifier:t.payload.itemIdentifier});case(0,o.getType)(r.wb):case(0,o.getType)(r.CK):return Object.assign({},v);case(0,o.getType)(r._Q):return t.payload.popupType===b.HH.Personalization?e:Object.assign({},v);case(0,o.getType)(r.WG):return Object.assign(Object.assign({},e),{identifier:t.payload.widget.identifier});case(0,o.getType)(r.qt):return Object.assign(Object.assign({},e),{freezeSelection:!0});case(0,o.getType)(r.Am):return Object.assign(Object.assign({},e),{freezeSelection:!1});case(0,o.getType)(r.wx):return Object.assign(Object.assign({},e),{preventClickAway:!0});case(0,o.getType)(r.wp):return Object.assign(Object.assign({},e),{preventClickAway:!1});default:return e}},widgetVariants:k.R,zones:_.E,pageTemplate:(e={identifier:""})=>e,editableAreasConfiguration:(e={})=>e,widgetZonesConfiguration:(e=O,t)=>{switch(t.type){case(0,o.getType)(r.od):return Object.assign(Object.assign({},e),t.payload.widgetRestrictions);case(0,o.getType)(r.y0):return T()(e,t.payload.section.zones);case(0,o.getType)(r.cL):return Object.assign(Object.assign({},T()(e,t.payload.oldSection.zones)),t.payload.widgetRestrictions);default:return e}},metadata:(e={personalizationConditionTypes:{},sections:{},widgets:{},pageTemplates:{}})=>e}},1376:function(e,t,n){"use strict";n.d(t,{cL:function(){return a},od:function(){return o},uw:function(){return s},y0:function(){return r}});var i=n(8980);const o=(0,i.createAction)("sections/ADD",((e,t,n,i,o,r)=>({section:e,areaIdentifier:t,position:n,markup:i,widgetZones:o,widgetRestrictions:r})))(),r=(0,i.createAction)("sections/REMOVE",((e,t,n)=>({section:e,areaIdentifier:t,widgetsToRemove:n})))(),s=(0,i.createAction)("sections/MOVE",((e,t,n,i)=>({sectionIdentifier:e,originalAreaIdentifier:t,targetAreaIdentifier:n,position:i})))(),a=(0,i.createAction)("sections/CHANGE",((e,t,n,i,o,r=[])=>({oldSection:e,newSection:t,newMarkup:n,widgetZones:i,widgetRestrictions:o,widgetsToRemove:r})))()},7433:function(e,t,n){"use strict";n.d(t,{M5:function(){return s},S9:function(){return r},S_:function(){return a},Sk:function(){return o}});var i=n(8980);const o=(0,i.createAction)("widgetVariants/ADD",((e,t,n,i)=>({variant:e,widgetIdentifier:t,markup:n,conditionType:i})))(),r=(0,i.createAction)("widgetVariants/REMOVE",((e,t)=>({widgetIdentifier:e,variantIdentifier:t})))(),s=(0,i.createAction)("widgetVariants/UPDATE",((e,t,n)=>({variantIdentifier:e,properties:t,markup:n})))(),a=(0,i.createAction)("widgetVariants/UPDATE_WIDGET_CONDITION_TYPE_PARAMETERS",((e,t,n)=>({variantIdentifier:e,name:t,conditionTypeParameters:n})))()},5091:function(e,t,n){"use strict";n.d(t,{R:function(){return u}});var i=n(8016),o=n.n(i),r=n(5080),s=n.n(r),a=n(8980),c=n(5208),l=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};const d={},u=(e=d,t)=>{switch(t.type){case(0,a.getType)(c.WG):case(0,a.getType)(c.Sk):return Object.assign(Object.assign({},e),{[t.payload.variant.identifier]:t.payload.variant});case(0,a.getType)(c.S9):const n=e,i=t.payload.variantIdentifier;n[i];return l(n,["symbol"==typeof i?i:i+""]);case(0,a.getType)(c.CK):return s()(e,t.payload.widget.variants);case(0,a.getType)(c.M5):{const n=e[t.payload.variantIdentifier];return Object.assign(Object.assign({},e),{[t.payload.variantIdentifier]:Object.assign(Object.assign({},n),{properties:t.payload.properties})})}case(0,a.getType)(c.S_):{const n=e[t.payload.variantIdentifier];return Object.assign(Object.assign({},e),{[t.payload.variantIdentifier]:Object.assign(Object.assign({},n),{name:t.payload.name,conditionTypeParameters:t.payload.conditionTypeParameters})})}case(0,a.getType)(c.cL):case(0,a.getType)(c.y0):const r=o()(t.payload.widgetsToRemove,(e=>e.variants));return s()(e,r);default:return e}}},7860:function(e,t,n){"use strict";n.d(t,{s:function(){return l}});var i=n(5080),o=n.n(i),r=n(8980),s=n(5208),a=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};const c={},l=(e=c,t)=>{switch(t.type){case(0,r.getType)(s.WG):return Object.assign(Object.assign({},e),{[t.payload.widget.identifier]:t.payload.widget});case(0,r.getType)(s.CK):const n=e,i=t.payload.widget.identifier;n[i];return a(n,["symbol"==typeof i?i:i+""]);case(0,r.getType)(s.cL):case(0,r.getType)(s.y0):return o()(e,t.payload.widgetsToRemove.map((e=>e.identifier)));case(0,r.getType)(s.S9):const c=e[t.payload.widgetIdentifier],l=c.variants.filter((e=>e!==t.payload.variantIdentifier));return Object.assign(Object.assign({},e),{[c.identifier]:{identifier:c.identifier,type:c.type,conditionType:l.length>1?c.conditionType:void 0,variants:l}});default:return e}}},9168:function(e,t,n){"use strict";n.d(t,{CK:function(){return a},M9:function(){return d},Oc:function(){return l},WG:function(){return s},YX:function(){return c}});var i=n(2550),o=n(1332),r=n(5208);const s=(e,t,n)=>async(s,a)=>{let c;s(r.Sq());const l=a().metadata.widgets[e];!0===l.hasProperties&&(c=await o.t(l.defaultPropertiesUrl));const d=await o.Yr(l.markupUrl,c),u={identifier:(0,i.c)(),properties:c},p={identifier:(0,i.c)(),type:e,variants:[u.identifier]};return s(r.WG(p,t,n,u,d)),{widgetIdentifier:p.identifier,variantIdentifier:u.identifier}},a=(e,t)=>(n,i)=>{const o=i().widgets[e];n(r.CK(o,t))},c=(e,t,n,i)=>async(s,a)=>{const{displayedWidgetVariants:c,widgets:l,widgetVariants:d,markups:u,metadata:p}=a(),g=l[e],f=c[e],h=u.variants[f],m=p.widgets[g.type];if(h.isDirty){const e=d[f].properties,t=await o.Yr(m.markupUrl,e);s(r.W2({[f]:t}))}s(r.YX(e,t,n,i))},l=(e,t)=>async(n,i)=>{const{displayedWidgetVariants:s,widgets:a,metadata:c}=i(),l=a[e],d=c.widgets[l.type],u=s[e],p=await o.Yr(d.markupUrl,t);n(r.M5(u,t,p))},d=(e,t)=>async(n,i,{logger:s})=>{try{const{displayedWidgetVariants:s,widgets:a,widgetVariants:c,metadata:l}=i(),d=a[e],u=l.widgets[d.type],p=s[e],g=Object.assign(Object.assign({},c[p].properties),{[t.name]:t.value}),f=!1!==t.refreshMarkup?await o.Yr(u.markupUrl,g):void 0;n(r.M5(p,g,f))}catch(e){s.logException(e)}}},6636:function(e,t,n){"use strict";n.d(t,{UR:function(){return l},Yh:function(){return u}});var i=n(8016),o=n.n(i),r=n(6012),s=n(655),a=n(7820);const c=(e,t)=>e.filter((({name:e})=>!e||!t.includes(e))),l=(e,t,n)=>{if(!e)return null;if(!t)return n;if(0===t.length)throw new Error((0,r.Km)(s.UH.LocalizationService).getLocalization("changesection.invalidsectionstate"));const i=d(e,t),o=i.map((e=>e.name));let l=i.reduce(((e,{name:i,identifier:o})=>{const r=t.find((e=>e.name===i)).identifier;return e[r]={name:i,identifier:r,widgets:[...n[o].widgets]},e}),{});const p=c(e,o),g=c(t,o),f=Math.min(p.length,g.length);l=p.slice(0,f).reduce(((e,t,i)=>(e[g[i].identifier]=a.wd.assignDefined({},{identifier:g[i].identifier,name:g[i].name,widgets:[...n[t.identifier].widgets]}),e)),l);g.slice(f).forEach((({identifier:e,name:t})=>{l[e]=a.wd.assignDefined({},{identifier:e,name:t,widgets:[]})}));const h=p.slice(f),m=u(h.map((e=>e.identifier)),n),[y]=[...g.slice(-1),...t.slice(-1)];return Array.prototype.push.apply(l[y.identifier].widgets,[...m]),l},d=(e,t)=>{const n=new Set(t.map((e=>e.name)).filter((e=>!!e)));return e.filter((e=>e.name&&n.has(e.name)))},u=(e,t)=>o()(e,(e=>t[e].widgets))},1724:function(e,t,n){"use strict";n.d(t,{E:function(){return l}});var i=n(5080),o=n.n(i),r=n(8980),s=n(7820),a=n(5208);const c={},l=(e=c,t)=>{switch(t.type){case(0,r.getType)(a.od):return Object.assign(Object.assign({},e),s._k.toRecord(t.payload.widgetZones,"identifier"));case(0,r.getType)(a.y0):return o()(e,t.payload.section.zones);case(0,r.getType)(a.cL):return Object.assign(Object.assign({},o()(e,t.payload.oldSection.zones)),t.payload.widgetZones);case(0,r.getType)(a.WG):case(0,r.getType)(a.CK):const{zoneIdentifier:n}=t.payload;return Object.assign(Object.assign({},e),{[n]:d(e[n],t)});case(0,r.getType)(a.YX):return u(e,t.payload);default:return e}},d=(e,t)=>{switch(t.type){case(0,r.getType)(a.WG):return Object.assign(Object.assign({},e),{widgets:s._k.insertItemIntoArray(e.widgets,t.payload.widget.identifier,t.payload.position)});case(0,r.getType)(a.CK):return Object.assign(Object.assign({},e),{widgets:e.widgets.filter((e=>e!==t.payload.widget.identifier))});default:return e}},u=(e,t)=>{const{originalZoneIdentifier:n,position:i,targetZoneIdentifier:o,widgetIdentifier:r}=t;let a;const c=Object.assign({},e);return n===o?a=s._k.moveItemBetweenArrays(e[n].widgets,r,i):(a=s._k.moveItemBetweenArrays(e[n].widgets,r,i,e[o].widgets),c[o]=Object.assign(Object.assign({},e[o]),{widgets:a.destinationArray})),c[n]=Object.assign(Object.assign({},e[n]),{widgets:a.sourceArray}),c}},655:function(e,t,n){"use strict";n.d(t,{MX:function(){return o},So:function(){return r},UH:function(){return i},ae:function(){return a},i6:function(){return s}});const i={LocalizationService:Symbol.for("LocalizationService"),NormalizerService:Symbol.for("NormalizerService"),PageConfigurationService:Symbol.for("PageConfigurationService"),PopUpElementsService:Symbol.for("PopUpElementsService"),MessagingService:Symbol.for("MessagingService")};var o,r,s,a;!function(e){e.SAVE_CONFIGURATION="Kentico.SaveConfiguration",e.LOAD_DISPLAYED_WIDGET_VARIANTS="Kentico.LoadDisplayedWidgetVariants",e.GET_DISPLAYED_WIDGET_VARIANTS="Kentico.GetDisplayedWidgetVariants",e.CONFIGURATION_STORED="Kentico.ConfigurationStored",e.CONFIGURATION_CHANGED="Kentico.ConfigurationChanged",e.MESSAGING_SUCCESS="Kentico.Messaging.Success",e.MESSAGING_ERROR="Kentico.Messaging.Error",e.MESSAGING_EXCEPTION="Kentico.Messaging.Exception",e.MESSAGING_WARNING="Kentico.Messaging.Warning",e.MESSAGING_WARNING_HIDE="Kentico.Messaging.WarningHide",e.MESSAGING_DRAG_START="Kentico.Messaging.DragStart",e.MESSAGING_DRAG_STOP="Kentico.Messaging.DragStop",e.OPEN_MODAL_DIALOG="Kentico.OpenModalDialog",e.CLOSE_MODAL_DIALOG="Kentico.CloseModalDialog",e.SAVE_TEMP_CONFIGURATION="Kentico.SaveTempConfiguration",e.TEMP_CONFIGURATION_STORED="Kentico.TempConfigurationStored",e.CHANGE_TEMPLATE="Kentico.ChangeTemplate",e.CANCEL_SCREENLOCK="Kentico.CancelScreenLock",e.CONFIRM="Kentico.Confirm",e.CONFIRM_RESPONSE="Kentico.ConfirmResponse",e.SET_RESTRICTED_WIDGETS="Kentico.SetRestrictedWidgets"}(o||(o={})),function(e){e.Widget="widget",e.Section="section",e.Template="template"}(r||(r={})),function(e){e.Properties="properties",e.Change="change",e.Personalization="personalisation",e.Delete="delete",e.Move="move"}(s||(s={})),function(e){e.Properties="icon-cogwheel",e.Change="icon-l-cols-30-70"}(a||(a={}))},4308:function(module,__unused_webpack_exports,__webpack_require__){var _=__webpack_require__(3568);module.exports=Function(_.keys(_.templateSettings.imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<button class="ktc-btn-rich-text-apply" data-title="'+(null==(__t=buttonText)?"":__t)+'">\r\n    <svg class="fr-svg" focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\r\n        <path d="M5,16H8v3h2V14H5ZM8,8H5v2h5V5H8Zm6,11h2V16h3V14H14ZM16,8V5H14v5h5V8Z"></path>\r\n    </svg>\r\n    <span class="ktc-btn-save__label">'+(null==(__t=buttonText)?"":__t)+"</span>\r\n</button>";return __p}.toString()).apply(void 0,_.values(_.templateSettings.imports))},7456:function(module,__unused_webpack_exports,__webpack_require__){var _=__webpack_require__(3568);module.exports=Function(_.keys(_.templateSettings.imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+="<html>\r\n<head>\r\n    <style>\r\n        "+(null==(__t=froalaCss)?"":__t)+'\r\n    </style>\r\n</head>\r\n<body class="fr-view" style="pointer-events: none;">\r\n'+(null==(__t=html)?"":__t)+"\r\n</body>\r\n</html>\r\n";return __p}.toString()).apply(void 0,_.values(_.templateSettings.imports))},484:function(module,__unused_webpack_exports,__webpack_require__){var _=__webpack_require__(3568);module.exports=Function(_.keys(_.templateSettings.imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<form class="ktc-popup-form" onsubmit="event.preventDefault()">\r\n  <div class="fr-layer fr-active">\r\n    <div class="ktc-image-selector '+(null==(__t=imageUrl?"":"ktc-image-selector--empty")?"":__t)+'">\r\n      <div class="ktc-selector-item-name-field fr-input-line">\r\n        <input type="text" name="imageUrl" class="ktc-selector-item fr-link-attr" value="'+(null==(__t=imageUrl)?"":__t)+'" title="" tabindex="1" />\r\n        <label for="imageUrl">'+(null==(__t=imageUrlLabel)?"":__t)+'</label>\r\n      </div>\r\n      <img class="ktc-selector-item-preview" src="'+(null==(__t=imageUrl)?"":__t)+'" />\r\n      <div class="ktc-selector-button-line">\r\n        <div class="fr-command fr-submit ktc-selector-btn" role="button" tabindex="2" data-cmd="'+(null==(__t=clearSelectionCommand)?"":__t)+'">\r\n          '+(null==(__t=clearSelectionButtonText)?"":__t)+'\r\n        </div>\r\n        <div class="fr-command fr-submit ktc-selector-btn" role="button" tabindex="3" data-cmd="'+(null==(__t=contentSelectionCommand)?"":__t)+'">\r\n          '+(null==(__t=contentSelectionButtonText)?"":__t)+'\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="fr-input-line">\r\n      <input id="ktc-configuration-url-text-1" name="altText" type="text" class="fr-link-attr fr-not-empty"\r\n        placeholder="" tabindex="4" dir="auto" value="'+(null==(__t=altText)?"":__t)+'">\r\n      <label for="ktc-configuration-url-text-1">'+(null==(__t=altTextLabel)?"":__t)+'</label>\r\n    </div>\r\n    <div class="fr-action-buttons">\r\n      <button class="fr-command fr-submit" role="button" data-cmd="'+(null==(__t=submitCommand)?"":__t)+'" tabindex="6" type="button">\r\n        '+(null==(__t=submitButtonText)?"":__t)+"\r\n      </button>\r\n    </div>\r\n  </div>\r\n</form>\r\n";return __p}.toString()).apply(void 0,_.values(_.templateSettings.imports))},3272:function(module,__unused_webpack_exports,__webpack_require__){var _=__webpack_require__(3568);module.exports=Function(_.keys(_.templateSettings.imports),"return "+function(obj){obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;function print(){__p+=__j.call(arguments,"")}with(obj)__p+='<form class="ktc-popup-form" onsubmit="event.preventDefault()">\r\n  <div class="fr-layer fr-active">\r\n    <div class="ktc-selector">\r\n      <div class="ktc-selector-item-name-field fr-input-line">\r\n        <input type="text" name="ktc-page-name" class="ktc-selector-item fr-link-attr '+(null==(__t=linkUrl?"fr-not-empty":"")?"":__t)+'" value="'+(null==(__t=link)?"":__t)+'" title="'+(null==(__t=link)?"":__t)+'" tabindex="1" '+(null==(__t=isContentLinkType?"disabled":"")?"":__t)+' />\r\n        <label for="ktc-page-name">'+(null==(__t=linkLabel)?"":__t)+'</label>\r\n      </div>\r\n      <div class="ktc-selector-button-line">\r\n        <div class="fr-command fr-submit ktc-selector-btn" role="button" tabindex="2" data-cmd="'+(null==(__t=clearSelectionCommand)?"":__t)+'">\r\n          '+(null==(__t=clearSelectionButtonText)?"":__t)+'\r\n        </div>\r\n        <div class="fr-command fr-submit ktc-selector-btn" role="button" tabindex="3" data-cmd="'+(null==(__t=contentSelectionCommand)?"":__t)+'" '+(null==(__t=isFormBuilder?'style="display:none;"':"")?"":__t)+" >\r\n          "+(null==(__t=contentSelectionButtonText)?"":__t)+'\r\n        </div>\r\n      </div>\r\n      <input name="linkUrl" value="'+(null==(__t=linkUrl)?"":__t)+'" hidden>\r\n    </div>\r\n    <div class="fr-input-line" style="display: '+(null==(__t=imageLink?"none":"block")?"":__t)+';">\r\n      <input id="ktc-configuration-url-text-1" name="linkText" type="text" class="fr-link-attr fr-not-empty"\r\n        placeholder="" tabindex="4" dir="auto" value="'+(null==(__t=linkText)?"":__t)+'">\r\n      <label for="ktc-configuration-url-text-1">'+(null==(__t=linkTextLabel)?"":__t)+"</label>\r\n    </div>\r\n    ",Object.keys(linkAttributes).forEach((function(e,t){__p+='\r\n      <div class="fr-input-line">\r\n        <input type="text" class="fr-link-attr fr-not-empty" name="'+__e(e)+'" value="'+__e(linkAttributes[e].value)+'" tabindex="'+(null==(__t=t+7)?"":__t)+'">\r\n        <label for="'+__e(e)+'">'+__e(linkAttributes[e].label)+"</label>\r\n      </div>\r\n    "})),__p+='\r\n    <div class="fr-checkbox-line">\r\n      <span class="fr-checkbox">\r\n        <input name="openInNewTab" class="fr-link-attr fr-not-empty" type="checkbox" id="ktc-configuration-openInNewTab"\r\n          tabindex="5" dir="auto" '+(null==(__t=openInNewTab?"checked":"")?"":__t)+'>\r\n        <span>\r\n          <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="10"\r\n            height="10" viewBox="0 0 32 32">\r\n            <path d="M27 4l-15 15-7-7-5 5 12 12 20-20z" fill="#FFF"></path>\r\n          </svg>\r\n        </span>\r\n      </span><label id="ktc-lbl-configuration-openInNewTab">'+(null==(__t=openInNewTabLabel)?"":__t)+'</label>\r\n    </div>\r\n    <div class="fr-action-buttons">\r\n      <button class="fr-command fr-submit" role="button" data-cmd="'+(null==(__t=command)?"":__t)+'" href="#" tabindex="6" type="button">\r\n        '+(null==(__t=actionButtonText)?"":__t)+"\r\n      </button>\r\n    </div>\r\n  </div>\r\n</form>\r\n";return __p}.toString()).apply(void 0,_.values(_.templateSettings.imports))},988:function(module,__unused_webpack_exports,__webpack_require__){var _=__webpack_require__(3568);module.exports=Function(_.keys(_.templateSettings.imports),"return "+function(obj){obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;function print(){__p+=__j.call(arguments,"")}with(obj)__p+='<form id="ktc-macro-popup-form" onsubmit="event.preventDefault()">\r\n    <div class="fr-layer fr-active" id="ktc-configuration-macro-layer-1" data-mouseenter-event-set="true">\r\n        <div class="fr-input-line">\r\n            <select id="ktc-configuration-macro-layer-type-1" class="ktc-select" name="contextMacroType" tabindex="1">\r\n                ',Object.keys(macros).forEach((e=>{__p+='\r\n                    <option value="'+__e(e)+'" '+(null==(__t=macroValue===e?"selected":"")?"":__t)+">"+__e(macros[e])+"</option>\r\n                "})),__p+='\r\n            </select>\r\n            <label for="ktc-configuration-macro-layer-type-1">'+(null==(__t=macroTypeLabel)?"":__t)+'</label>\r\n        </div>\r\n        <div class="fr-input-line" style="display: block;">\r\n            <input id="ktc-configuration-macro-layer-text-1" name="defaultText" type="text"\r\n                class="fr-link-attr fr-not-empty" placeholder="" tabindex="2" dir="auto"\r\n                value="'+(null==(__t=macroDefaultValue)?"":__t)+'"><label\r\n                for="ktc-configuration-macro-layer-text-1">'+(null==(__t=defaultTextLabel)?"":__t)+'</label>\r\n        </div>\r\n        <div class="fr-action-buttons">\r\n            <button class="fr-command fr-submit" role="button" data-cmd="'+(null==(__t=command)?"":__t)+'" href="#" tabindex="4"\r\n                type="button">\r\n                '+(null==(__t=actionButtonText)?"":__t)+"\r\n            </button>\r\n        </div>\r\n    </div>\r\n</form>";return __p}.toString()).apply(void 0,_.values(_.templateSettings.imports))},6784:function(module,__unused_webpack_exports,__webpack_require__){var _=__webpack_require__(3568);module.exports=Function(_.keys(_.templateSettings.imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<form id="ktc-macro-popup-form" onsubmit="event.preventDefault()">\r\n    <div class="fr-layer fr-active" id="ktc-configuration-layer-1" data-mouseenter-event-set="true">\r\n        <div class="fr-input-line">\r\n            <input id="ktc-configuration-url-layer-url-1" name="urlParameterName" type="text"\r\n                class="fr-link-attr '+(null==(__t=value?"fr-not-empty":"")?"":__t)+'" placeholder="" tabindex="1" dir="auto" value="'+(null==(__t=value)?"":__t)+'"><label\r\n                for="ktc-configuration-url-layer-url-1">'+(null==(__t=urlParameterLabel)?"":__t)+'</label>\r\n        </div>\r\n        <div class="fr-input-line" style="display: block;">\r\n            <input id="ktc-configuration-url-text-1" name="defaultText" type="text" class="fr-link-attr fr-not-empty"\r\n                placeholder="" tabindex="2" dir="auto" value="'+(null==(__t=defaultValue)?"":__t)+'">\r\n            <label for="ktc-configuration-url-text-1">'+(null==(__t=defaultTextLabel)?"":__t)+'</label>\r\n        </div>\r\n        <div class="fr-action-buttons">\r\n            <button class="fr-command fr-submit" role="button" data-cmd="'+(null==(__t=command)?"":__t)+'" href="#" tabindex="4"\r\n                type="button">\r\n                '+(null==(__t=actionButtonText)?"":__t)+"\r\n            </button>\r\n        </div>\r\n    </div>\r\n</form>";return __p}.toString()).apply(void 0,_.values(_.templateSettings.imports))},2404:function(module,__unused_webpack_exports,__webpack_require__){var _=__webpack_require__(3568);module.exports=Function(_.keys(_.templateSettings.imports),"return "+function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<input type="button" class="'+(null==(__t=macroClass)?"":__t)+'" data-macro-type="'+(null==(__t=macroType)?"":__t)+'" data-macro-value="'+(null==(__t=macroValue)?"":__t)+'" \r\n    data-macro-default-value="'+__e(macroDefaultValue)+'" value="'+(null==(__t=macroDisplayValue)?"":__t)+'" />';return __p}.toString()).apply(void 0,_.values(_.templateSettings.imports))},284:function(module,__unused_webpack_exports,__webpack_require__){var _=__webpack_require__(3568);module.exports=Function(_.keys(_.templateSettings.imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+=".ktc-macro {\r\n  cursor          : pointer;\r\n  border          : 1px solid black;\r\n  border-radius   : 3px;\r\n  padding         : 0 4px;\r\n  background-color: #e5e5e5;\r\n}\r\n\r\n.ktc-macro:hover {\r\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.75);\r\n}\r\n";return __p}.toString()).apply(void 0,_.values(_.templateSettings.imports))},8208:function(e,t,n){"use strict";n.d(t,{c:function(){return p}});var i=n(1284);const o=e=>((0,i.ED)("data-v-7a203f71"),e=e(),(0,i.ii)(),e),r={class:"ktc-admin-ui"},s=["message"],a=o((()=>(0,i.QD)("div",{class:"ktc-border ktc-border-top"},null,-1))),c={class:"ktc-border ktc-border-right"},l=o((()=>(0,i.QD)("div",{class:"ktc-border ktc-border-bottom"},null,-1))),d={class:"ktc-border ktc-border-left"};var u=(0,i._M)({__name:"BorderContainer",props:{highlighted:{type:Boolean},selected:{type:Boolean},banned:{type:Boolean},bannedMessage:{},primary:{type:Boolean},hideVerticalBorder:{type:Boolean}},setup(e){const t=e,n=(0,i.S6)((()=>({"ktc-border-root":!0,"ktc-border-root--primary":t.primary,"ktc-border-root--highlighted":t.highlighted,"ktc-border-root--selected":t.selected,"ktc-border-root--banned":t.banned}))),o=(0,i.S6)((()=>!t.hideVerticalBorder||!t.highlighted||!t.selected));return(e,t)=>((0,i.Wz)(),(0,i.An)("div",{class:(0,i.WN)(n.value)},[(0,i.QD)("div",r,[e.banned?((0,i.Wz)(),(0,i.An)("kentico-alert-box",{key:0,message:e.bannedMessage},null,8,s)):(0,i.g1)("",!0),a,(0,i.wt)((0,i.QD)("div",c,null,512),[[i.Ub,o.value]]),l,(0,i.wt)((0,i.QD)("div",d,null,512),[[i.Ub,o.value]])]),(0,i.oF)(e.$slots,"default")],2))}});var p=(0,n(5772).c)(u,[["__scopeId","data-v-7a203f71"]])},3520:function(e,t,n){"use strict";n.d(t,{c:function(){return I}});var i=n(1284);const o={class:"ktc-admin-ui"},r={key:0};var s=n(9972),a=n(7820),c=n(7780),l=n(240),d=n(8208),u=n(3316),p=n(5208);const g={class:"ktc-admin-ui"},f={class:"ktc-admin-ui"},h={key:0};var m=n(7836),y=n(7540),b=n(1220),v=n(5312),k=n(7696),w=(0,i._M)({components:{BorderContainer:k.Ic,DropZone:k.G8,SectionHeader:k.EN},mixins:[m.Cc],data(){return{cancellableHideHeaderToken:null,highlightedBorder:!1}},computed:{showSectionTypeList(){const{componentIdentifier:e,popupType:t}=this.popup;return e===this.sectionIdentifier&&t===v.HH.ChangeSection},renderSectionHeader(){return this.highlightedSection.sectionIdentifier===this.sectionIdentifier},highlightBorder(){return this.renderSectionHeader&&this.highlightedSection.highlightBorder},showDropZone(){return this.dragAndDrop.entity===s.s.Section&&this.dragAndDrop.itemIdentifier!==this.sectionIdentifier},showSectionDropMarker(){return this.dragAndDrop.targetContainerIdentifier===this.areaIdentifier&&this.dragAndDrop.dropMarkerPosition===this.position+1},showSectionDivider(){return!this.dragAndDrop.itemIdentifier}},mounted(){a.SM.mountSectionToDragAndDrop(this.sectionIdentifier)},methods:{onSectionMouseOver(){this.renderSectionHeader||this.popup.componentIdentifier||this.dragAndDrop.itemIdentifier||this.showSectionHeader(this.sectionIdentifier,this.computeHeaderPosition()),this.dragAndDrop.entity===s.s.Section&&this.highlightSectionBorder(this.sectionIdentifier),this.cancellableHideHeaderToken&&clearTimeout(this.cancellableHideHeaderToken)},onSectionMouseLeave(){this.highlightedSection.freezeHighlight?clearTimeout(this.cancellableHideHeaderToken):(this.showSectionTypeList||(this.cancellableHideHeaderToken=setTimeout((()=>{this.renderSectionHeader&&this.hideSectionHeader()}),y.wH)),this.dragAndDrop.entity===s.s.Section&&this.dehighlightSectionBorder())},onSectionClick(){this.renderSectionHeader||this.showSectionHeader(this.sectionIdentifier,this.computeHeaderPosition())},onHeaderMouseEnter(){this.highlightBorder||this.dragAndDrop.itemIdentifier||this.highlightSectionBorder()},onHeaderMouseLeave(){this.showSectionTypeList||this.dragAndDrop.itemIdentifier||this.highlightedSection.freezeHighlight||this.$nextTick((()=>{this.highlightedSection.freezeHighlight||this.dehighlightSectionBorder()}))},onHeaderClickAway(e){this.showSectionTypeList&&this.closePopup(),this.renderSectionHeader&&!a.sL.isFriendlyElementSelected(e,this.friendlyElementSelectors)&&(this.isClickOutsideSection(e)?this.hideSectionHeader():this.highlightBorder&&this.dehighlightSectionBorder())},onCloseSectionTypeList(e){this.isClickOutsideSection(e.detail)?this.hideSectionHeader():this.dehighlightSectionBorder(),this.closePopup()},computeHeaderPosition(){const e=this.$refs.sectionHeader.$el.querySelector("kentico-section-header");if(!e)return null;return(0,b.Qn)(e.getBoundingClientRect(),e.offsetWidth)===v.GG.Left?v.GG.Left:v.GG.Right},isClickOutsideSection(e){const{clientX:t,clientY:n}=e,{left:i,right:o,top:r,bottom:s}=this.$el.getBoundingClientRect();return t<i||t>o||n<r||n>s},sectionMarkupChanged(){this.$emit("sectionMarkupChanged",this.sectionIdentifier)},freezeHighlightChanged(){this.highlightedSection.freezeHighlight&&this.cancellableHideHeaderToken&&clearTimeout(this.cancellableHideHeaderToken)}},props:{areaIdentifier:{required:!0,type:String},sectionIdentifier:{required:!0,type:String},position:{required:!0,type:Number},sectionType:{type:String},sectionMarkup:{type:String},popup:{type:Object},highlightedSection:{type:Object},dragAndDrop:{type:Object},allowAddSection:{type:Boolean},friendlyElementSelectors:{default:()=>[],type:Array},showSectionHeader:{type:Function},hideSectionHeader:{type:Function},highlightSectionBorder:{type:Function},dehighlightSectionBorder:{type:Function},closePopup:{type:Function},changeSection:{type:Function}},watch:{sectionMarkup:[{handler:"sectionMarkupChanged"}],"highlightedSection.freezeHighlight":[{handler:"freezeHighlightChanged"}]}}),_=n(5772);var S=(0,_.c)(w,[["render",function(e,t,n,o,r,s){const a=(0,i.E1)("SectionHeader"),c=(0,i.E1)("DropZone"),l=(0,i.E1)("BorderContainer"),d=(0,i.iS)("click-away");return(0,i.Wz)(),(0,i.Az)(l,{highlighted:e.highlightBorder,onMouseover:e.onSectionMouseOver,onMouseleave:e.onSectionMouseLeave,onClick:e.onSectionClick},{default:(0,i.Ql)((()=>[(0,i.wt)(((0,i.Wz)(),(0,i.Az)(a,{class:"ktc-section-header-container",ref:"sectionHeader",areaIdentifier:e.areaIdentifier,sectionIdentifier:e.sectionIdentifier,showSectionTypeList:e.showSectionTypeList,sectionType:e.sectionType,highlighted:e.highlightBorder,onMouseenter:(0,i.Y7)(e.onHeaderMouseEnter,["stop"]),onMouseleave:(0,i.Y7)(e.onHeaderMouseLeave,["stop"]),onClosePopup:e.onCloseSectionTypeList,onChangeSection:t[0]||(t[0]=t=>e.$emit("changeSection",t,e.sectionIdentifier)),onRemoveSection:t[1]||(t[1]=t=>e.$emit(t.type,e.sectionIdentifier))},{sectionHeaderExtraButtons:(0,i.Ql)((()=>[(0,i.oF)(e.$slots,"sectionHeaderExtraButtons",{},void 0,!0)])),_:3},8,["areaIdentifier","sectionIdentifier","showSectionTypeList","sectionType","highlighted","onMouseenter","onMouseleave","onClosePopup"])),[[d,e.onHeaderClickAway]]),(0,i.QD)("div",g,[e.showDropZone?((0,i.Wz)(),(0,i.Az)(c,{key:0,containerIdentifier:e.areaIdentifier,position:e.position,isBottom:!1,class:"ktc-dropzone--top"},null,8,["containerIdentifier","position"])):(0,i.g1)("",!0),e.showDropZone?((0,i.Wz)(),(0,i.Az)(c,{key:1,containerIdentifier:e.areaIdentifier,position:e.position,isBottom:!0,class:"ktc-dropzone--bottom"},null,8,["containerIdentifier","position"])):(0,i.g1)("",!0)]),(0,i.oF)(e.$slots,"sectionMarkup",{sectionMarkup:e.sectionMarkup},void 0,!0),(0,i.QD)("div",f,[e.showSectionDropMarker?((0,i.Wz)(),(0,i.An)("kentico-drop-marker",h)):(0,i.g1)("",!0),(0,i.wt)((0,i.QD)("div",null,[e.allowAddSection?(0,i.oF)(e.$slots,"sectionDivider",{key:0,class:"ktc-section-divider",sectionIdentifier:e.sectionIdentifier,areaIdentifier:e.areaIdentifier},void 0,!0):(0,i.g1)("",!0)],512),[[i.Ub,e.showSectionDivider]])])])),_:3},8,["highlighted","onMouseover","onMouseleave","onClick"])}],["__scopeId","data-v-0d870653"]]);var T=(0,u.U)(((e,{areaIdentifier:t,sectionIdentifier:n})=>{const{sections:i,markups:o,popup:r,highlightedSection:s,dragAndDrop:a,editableAreasConfiguration:c,config:l}=e,d=i[n]?i[n].type:"",u=c[t].sectionRestrictions,p=null===u||u.length>0;return{sectionType:d,sectionMarkup:o.sections[n]?o.sections[n].markup:"",allowAddSection:p,popup:r,highlightedSection:s,dragAndDrop:a,friendlyElementSelectors:[`#${l.propertiesEditorClientId}`]}}),(()=>({showSectionHeader:p.SY,hideSectionHeader:p.ol,highlightSectionBorder:p.OO,dehighlightSectionBorder:p._2,closePopup:p.Sq})))(S),O=(0,i._M)({components:{Section:T,BorderContainer:d.c},computed:{editableAreaClasses(){return{"ktc-editable-area":!0,"ktc-editable-area--banned":this.isBanned}},isBanned(){return(0,c.GQ)(this.dragAndDrop.bannedAreas,this.identifier)},showAreaDropMarker(){return this.dragAndDrop.entity===s.s.Section&&this.dragAndDrop.targetContainerIdentifier===this.identifier&&0===this.dragAndDrop.dropMarkerPosition},bannedAreaMessage(){return this.dragAndDrop.entity===s.s.Widget?this.$_localizationService.getLocalization("areas.bannedwidgetmessage"):this.$_localizationService.getLocalization("areas.bannedsectionmessage")}},methods:{async onRemoveSection(e){const t=this.$_localizationService.getLocalization("section.remove.confirmation");await(0,l.G)(t)&&(a.SM.removeSectionFromDragAndDrop(e),this.removeSection(e,this.identifier)),1===this.sectionsInArea.length&&a.SM.mountSectionToDragAndDropAfterNextTick(this,e)},async onChangeSection(e,t){a.SM.removeSectionFromDragAndDrop(t),await this.changeSection(t,e.detail.key),a.SM.mountSectionToDragAndDropAfterNextTick(this,t)},onSectionMarkupChanged(e){a.SM.removeSectionFromDragAndDrop(e),a.SM.mountSectionToDragAndDropAfterNextTick(this,e)}},props:{identifier:{required:!0,type:String},sectionsInArea:{type:Array},dragAndDrop:{type:Object},removeSection:{type:Function},changeSection:{type:Function}}});var I=(0,_.c)(O,[["render",function(e,t,n,s,a,c){const l=(0,i.E1)("Section"),d=(0,i.E1)("BorderContainer");return(0,i.Wz)(),(0,i.Az)(d,{id:e.identifier,class:(0,i.WN)(e.editableAreaClasses),banned:e.isBanned,bannedMessage:e.bannedAreaMessage},{default:(0,i.Ql)((()=>[(0,i.QD)("div",o,[e.showAreaDropMarker?((0,i.Wz)(),(0,i.An)("kentico-drop-marker",r)):(0,i.g1)("",!0)]),((0,i.Wz)(!0),(0,i.An)(i.ae,null,(0,i.mi)(e.sectionsInArea,((t,n)=>((0,i.Wz)(),(0,i.Az)(l,{class:"ktc-section",id:t,key:t,position:n,sectionIdentifier:t,areaIdentifier:e.identifier,onRemoveSection:e.onRemoveSection,onChangeSection:e.onChangeSection,onSectionMarkupChanged:e.onSectionMarkupChanged},{sectionMarkup:(0,i.Ql)((({sectionMarkup:n})=>[(0,i.oF)(e.$slots,"sectionMarkup",{sectionIdentifier:t,sectionMarkup:n},void 0,!0)])),sectionHeaderExtraButtons:(0,i.Ql)((()=>[(0,i.oF)(e.$slots,"sectionHeaderExtraButtons",{sectionIdentifier:t},void 0,!0)])),sectionDivider:(0,i.Ql)((({sectionIdentifier:t,areaIdentifier:n})=>[(0,i.oF)(e.$slots,"sectionDivider",{sectionIdentifier:t,areaIdentifier:n},void 0,!0)])),_:2},1032,["id","position","sectionIdentifier","areaIdentifier","onRemoveSection","onChangeSection","onSectionMarkupChanged"])))),128))])),_:3},8,["id","class","banned","bannedMessage"])}],["__scopeId","data-v-6275e8ce"]])},4540:function(e,t,n){"use strict";n.d(t,{c:function(){return a}});var i=n(1284),o=n(7696),r=n(5312);const s={class:"ktc-admin-ui"};var a=(0,i._M)({__name:"GlobalComponentWrapper",props:{selectItem:{type:Function},popupType:{},modalDialogs:{}},setup(e){const t=e,n=(0,i.S6)((()=>t.popupType===r.HH.AddWidget||t.popupType===r.HH.AddSection));return(e,t)=>((0,i.Wz)(),(0,i.An)("div",s,[((0,i.Wz)(!0),(0,i.An)(i.ae,null,(0,i.mi)(e.modalDialogs,(e=>((0,i.Wz)(),(0,i.Az)((0,i.KV)(o._y),{key:e.identifier,dialogIndex:e.index},null,8,["dialogIndex"])))),128)),n.value?((0,i.Wz)(),(0,i.Az)((0,i.KV)(o.oT),{key:0,selectItem:e.selectItem},{"pop-up-content-top":(0,i.Ql)((()=>[(0,i.oF)(e.$slots,"pop-up-content-top")])),"pop-up-content-filter":(0,i.Ql)((()=>[(0,i.oF)(e.$slots,"pop-up-content-filter")])),_:3},8,["selectItem"])):(0,i.g1)("",!0),(0,i.oF)(e.$slots,"default")]))}})},5948:function(e,t,n){"use strict";n.d(t,{c:function(){return x}});var i=n(1284);const o={class:"ktc-admin-ui"},r={key:1},s={class:"ktc-admin-ui"},a=["is-active",".tooltip"];var c=n(7836),l=n(7696),d=n(9972),u=n(7780),p=n(240),g=n(3316),f=n(5208),h=n(5380),m=n(3440);const y={class:"ktc-admin-ui"},b={class:"ktc-admin-ui"},v=["is-active",".tooltip"],k={key:0};var w=n(8724),_=n(5312);const S=[".data-markup"];var T=n(2550),O=n(7820),I=n(7268),A=(0,i._M)({data(){return{externalScriptIdentifier:`ktc-widget-markup-script-${(0,T.c)()}`}},mounted(){const e=this.$refs.widgetMarkup;(0,I.u)(this.markup,e,this.externalScriptIdentifier),O.sz.disableElementLinks(e),this.initializeEditors()},beforeUpdate(){this.cleanup()},updated(){const e=this.$refs.widgetMarkup;(0,I.u)(this.markup,e,this.externalScriptIdentifier),O.sz.disableElementLinks(e),this.initializeEditors()},beforeUnmount(){this.cleanup()},methods:{cleanup(){(0,w.Qj)(this.$refs.widgetMarkup),(0,I.vP)(this.externalScriptIdentifier)},initializeEditors(){this.$emit("markupUpdated",this.$refs.widgetMarkup)}},props:{markup:{required:!0,type:String},variantIdentifier:{required:!0,type:String}}}),C=n(5772);var E=(0,C.c)(A,[["render",function(e,t,n,o,r,s){return(0,i.Wz)(),(0,i.An)("div",{key:e.variantIdentifier},[(0,i.QD)("div",null,[(0,i.QD)("div",{class:"ktc-widget-body-wrapper",ref:"widgetMarkup",".data-markup":e.markup},null,40,S)])])}]]),M=(0,i._M)({components:{BorderContainer:l.Ic,WidgetMarkup:E,DropZone:l.G8},mixins:[c.Cc],data(){return{topOffset:0}},computed:{addTooltip(){return this.$_localizationService.getLocalization("widget.addTooltip")},widgetClasses(){return{"ktc-widget":!0,"ktc-widget--highlighted":this.isHighlighted,"ktc-widget--selected":this.isSelected,"ktc-widget--dragged":this.isDragged}},isDragged(){return this.dragAndDrop.itemIdentifier===this.widgetIdentifier},isSelected(){return this.selectedWidgetIdentifier===this.widgetIdentifier},isHighlighted(){return this.highlightedWidgetIdentifier===this.widgetIdentifier&&!this.popup.componentIdentifier&&(!this.dragAndDrop.itemIdentifier&&!this.selectedWidgetIdentifier||this.dragAndDrop.entity===d.s.Widget)},isWidgetListOpen(){return this.widgetIdentifier===this.popup.componentIdentifier&&this.popup.popupType===_.HH.AddWidget},showDropZone(){return this.dragAndDrop.entity===d.s.Widget&&this.dragAndDrop.itemIdentifier!==this.widgetIdentifier&&!this.isDropBanned},showWidgetDropMarker(){return this.dragAndDrop.targetContainerIdentifier===this.zoneIdentifier&&this.dragAndDrop.dropMarkerPosition===this.position+1}},mounted(){this.$el.addEventListener("updateProperty",this.onUpdateProperty,{capture:!0}),this.calculateTopOffset()},beforeUnmount(){this.$el.removeEventListener("updateProperty",this.onUpdateProperty,{capture:!0})},updated(){this.calculateTopOffset()},methods:{calculateTopOffset(){this.topOffset=this.$el.getBoundingClientRect().top+window.pageYOffset},onMouseOver(){this.isHighlighted||null!==this.popup.componentIdentifier||(this.dragAndDrop.itemIdentifier||null!==this.selectedWidgetIdentifier)&&this.dragAndDrop.entity!==d.s.Widget||this.highlightWidget(this.widgetIdentifier)},onMouseLeave(){null!==this.popup.componentIdentifier||this.dragAndDrop.itemIdentifier||null!==this.selectedWidgetIdentifier||this.dehighlightWidget(this.widgetIdentifier)},onWidgetClick(){this.isFrozen||this.isSelected||this.selectWidget(this.widgetIdentifier)},onWidgetClickAway(e){this.$nextTick((()=>{this.isFrozen||this.isClickAwayDisabled||!this.isSelected||O.sL.isFriendlyElementSelected(e,this.friendlyElementSelectors)||this.unselectWidget(),this.isClickAwayDisabled&&this.isSelected&&this.enableWidgetClickAway()}))},onOpenComponentList({detail:e}){this.isWidgetListOpen?this.closePopup():this.openPopup(this.widgetIdentifier,e,this.areaIdentifier,this.zoneIdentifier)},onUpdateProperty(e){this.setWidgetProperty(this.widgetIdentifier,e.detail)},onMarkupUpdated(e){(0,w.Qb)(e,this.displayedVariant.properties)},clickedAway(){this.isWidgetListOpen&&this.closePopup()}},props:{widgetIdentifier:{required:!0,type:String},position:{required:!0,type:Number},zoneIdentifier:{required:!0,type:String},isDropBanned:{default:!1,type:Boolean},areaIdentifier:{required:!0,type:String},openPopup:{required:!0,type:Function},dragAndDrop:{type:Object},selectedWidgetIdentifier:{type:String},highlightedWidgetIdentifier:{type:String},popup:{type:Object},widget:{type:Object},displayedVariantMarkup:{type:String},displayedVariant:{type:Object},widgetTitle:{type:String},isFrozen:{type:Boolean},isClickAwayDisabled:{type:Boolean},friendlyElementSelectors:{default:()=>[],type:Array},highlightWidget:{type:Function},dehighlightWidget:{type:Function},selectWidget:{type:Function},unselectWidget:{type:Function},enableWidgetClickAway:{type:Function},closePopup:{type:Function},setWidgetProperty:{type:Function}}});var P=(0,C.c)(M,[["render",function(e,t,n,o,r,s){const a=(0,i.E1)("DropZone"),c=(0,i.E1)("WidgetMarkup"),l=(0,i.E1)("BorderContainer"),d=(0,i.iS)("click-away");return(0,i.wt)(((0,i.Wz)(),(0,i.Az)(l,{class:(0,i.WN)(e.widgetClasses),highlighted:e.isHighlighted,selected:e.isSelected,hideVerticalBorder:!0,primary:!0,onClick:e.onWidgetClick,onMouseover:e.onMouseOver,onMouseleave:e.onMouseLeave},{default:(0,i.Ql)((()=>[(0,i.QD)("div",y,[(0,i.QD)("div",{class:"ktc-widget-header-wrapper","on:removeWidget":t[0]||(t[0]=t=>e.$emit(t.type,e.widgetIdentifier))},[(0,i.oF)(e.$slots,"widgetHeader",{widgetTitle:e.widgetTitle,widgetIdentifier:e.widgetIdentifier,widgetTopOffset:e.topOffset},void 0,!0)],32),e.showDropZone?((0,i.Wz)(),(0,i.Az)(a,{key:0,containerIdentifier:e.zoneIdentifier,position:e.position,isBottom:!1,class:"ktc-dropzone--top"},null,8,["containerIdentifier","position"])):(0,i.g1)("",!0),e.showDropZone?((0,i.Wz)(),(0,i.Az)(a,{key:1,containerIdentifier:e.zoneIdentifier,position:e.position,isBottom:!0,class:"ktc-dropzone--bottom"},null,8,["containerIdentifier","position"])):(0,i.g1)("",!0)]),(0,i.K2)(c,{markup:e.displayedVariantMarkup,variantIdentifier:e.displayedVariant.identifier,onMarkupUpdated:e.onMarkupUpdated},null,8,["markup","variantIdentifier","onMarkupUpdated"]),(0,i.QD)("div",b,[(0,i.wt)((0,i.QD)("kentico-add-component-button",{"is-small":"true",ref:"addWidget","is-active":e.isWidgetListOpen,".tooltip":e.addTooltip,primary:!0,"on:openComponentList":t[1]||(t[1]=(...t)=>e.onOpenComponentList&&e.onOpenComponentList(...t))},null,40,v),[[i.Ub,!e.dragAndDrop.itemIdentifier],[d,e.clickedAway]]),e.showWidgetDropMarker?((0,i.Wz)(),(0,i.An)("kentico-drop-marker",k)):(0,i.g1)("",!0)])])),_:3},8,["class","highlighted","selected","onClick","onMouseover","onMouseleave"])),[[d,e.onWidgetClickAway]])}],["__scopeId","data-v-0cd0be0c"]]);var D=(0,g.U)(((e,{widgetIdentifier:t})=>{const{dragAndDrop:n,widgetSelection:i,highlightedWidget:o,popup:r,metadata:s,widgetVariants:a,markups:c,displayedWidgetVariants:l,widgets:d,config:u}=e,p=d[t],g=l[t];return{dragAndDrop:n,selectedWidgetIdentifier:i.identifier,highlightedWidgetIdentifier:o,popup:r,widget:p,displayedVariant:a[g],displayedVariantMarkup:g?c.variants[g].markup:"",widgetTitle:p?s.widgets[p.type].name:"",isFrozen:i.freezeSelection,isClickAwayDisabled:i.preventClickAway,friendlyElementSelectors:[`#${u.propertiesEditorClientId}`,`.${m.M}`]}}),(()=>({highlightWidget:f.qU,dehighlightWidget:f.Sw,selectWidget:f.Gw,unselectWidget:f.wb,enableWidgetClickAway:f.wp,closePopup:f.Sq,setWidgetProperty:h.M9})))(P),j=n(3628),L=(0,i._M)({components:{BorderContainer:l.Ic,Widget:D,DropZone:l.G8},mixins:[c.Cc],computed:{addTooltip(){return this.$_localizationService.getLocalization("widget.addTooltip")},widgetZoneClasses(){return{"ktc-widget-zone":!0,"ktc-widget-zone--empty":this.isEmpty,"ktc-widget-zone--highlighted":null!==this.dragAndDrop.itemIdentifier,"ktc-widget-zone--banned":this.isZoneDropBanned}},isEmpty(){return 0===this.widgetsInZone.length},isWidgetListOpen(){return this.popup.componentIdentifier===this.zoneIdentifier},showZoneDropMarker(){return!this.isEmpty&&this.dragAndDrop.targetContainerIdentifier===this.zoneIdentifier&&0===this.dragAndDrop.dropMarkerPosition},isDropBanned(){return this.isParentAreaBanned||this.isZoneDropBanned},isZoneDropBanned(){return this.dragAndDrop.bannedZones.includes(this.zoneIdentifier)},isParentAreaBanned(){return(0,u.GQ)(this.dragAndDrop.bannedAreas,this.areaIdentifier)},isDraggedItemWidget(){return this.dragAndDrop.entity===d.s.Widget},headerTitle(){return this.$_localizationService.getLocalization("widget.headerTitle")},bannedZoneMessage(){return this.$_localizationService.getLocalization("areas.bannedwidgetmessage")}},methods:{async onRemoveWidget(e){const t=this.$_localizationService.getLocalization("widget.remove.confirmation");await(0,p.G)(t)&&this.removeWidget(e,this.zoneIdentifier)},onOpenComponentList({detail:e}){this.isWidgetListOpen?this.closePopup():this.openPopup(this.zoneIdentifier,e,this.areaIdentifier,this.zoneIdentifier)},clickedAway(){this.isWidgetListOpen&&this.closePopup()}},props:Object.assign(Object.assign({},j.k),{zoneIdentifier:{type:String},dragAndDrop:{type:Object},zone:{type:Object},popup:{type:Object},widgetsInZone:{type:Array},removeWidget:{type:Function},closePopup:{type:Function},openPopup:{type:Function}})});var x=(0,C.c)(L,[["render",function(e,t,n,c,l,d){const u=(0,i.E1)("DropZone"),p=(0,i.E1)("Widget"),g=(0,i.E1)("BorderContainer"),f=(0,i.iS)("click-away");return(0,i.Wz)(),(0,i.Az)(g,{id:e.zoneIdentifier,class:(0,i.WN)(e.widgetZoneClasses),banned:e.isZoneDropBanned,bannedMessage:e.bannedZoneMessage},{default:(0,i.Ql)((()=>[(0,i.QD)("div",o,[e.isEmpty?(0,i.wt)(((0,i.Wz)(),(0,i.Az)(u,{key:0,class:(0,i.WN)(["ktc-dropzone--full",{"ktc-dropzone--active":e.dragAndDrop.targetContainerIdentifier===e.zoneIdentifier}]),position:0,containerIdentifier:e.zoneIdentifier},null,8,["class","containerIdentifier"])),[[i.Ub,e.isDraggedItemWidget&&!e.isDropBanned]]):(0,i.g1)("",!0),e.showZoneDropMarker?((0,i.Wz)(),(0,i.An)("kentico-drop-marker",r)):(0,i.g1)("",!0)]),((0,i.Wz)(!0),(0,i.An)(i.ae,null,(0,i.mi)(e.widgetsInZone,((t,n)=>((0,i.Wz)(),(0,i.Az)(p,{id:t.identifier,key:t.identifier,widgetIdentifier:t.identifier,zoneIdentifier:e.zoneIdentifier,areaIdentifier:e.areaIdentifier,position:n,isDropBanned:e.isDropBanned,openPopup:e.openPopup,onRemoveWidget:e.onRemoveWidget},{widgetHeader:(0,i.Ql)((({widgetTitle:t,widgetIdentifier:n,widgetTopOffset:o})=>[(0,i.oF)(e.$slots,"widgetHeader",{widgetTitle:t,widgetIdentifier:n,widgetTopOffset:o},void 0,!0)])),_:2},1032,["id","widgetIdentifier","zoneIdentifier","areaIdentifier","position","isDropBanned","openPopup","onRemoveWidget"])))),128)),(0,i.QD)("div",s,[e.isEmpty?(0,i.wt)(((0,i.Wz)(),(0,i.An)("kentico-add-component-button",{key:0,ref:"addWidget","is-active":e.isWidgetListOpen,".tooltip":e.addTooltip,primary:!0,"on:openComponentList":t[0]||(t[0]=(...t)=>e.onOpenComponentList&&e.onOpenComponentList(...t))},null,40,a)),[[f,e.clickedAway],[i.Ub,!e.dragAndDrop.itemIdentifier]]):(0,i.g1)("",!0)])])),_:3},8,["id","class","banned","bannedMessage"])}],["__scopeId","data-v-2c444b7f"]])},3868:function(e,t,n){"use strict";n.d(t,{c:function(){return s}});var i=n(1284);const o=[".placeholder",".value"];var r=(0,i._M)({computed:{placeholder(){return this.$_localizationService.getLocalization("widgetlist.filter.placeholder")}},methods:{handleFilterChange(e){this.applyFilter(e.detail)}},props:{showFilter:{type:Boolean},filterPhrase:{type:String},applyFilter:{type:Function}}});var s=(0,n(5772).c)(r,[["render",function(e,t,n,r,s,a){return e.showFilter?((0,i.Wz)(),(0,i.An)("kentico-pop-up-filter",{key:0,"on:filterChange":t[0]||(t[0]=(...t)=>e.handleFilterChange&&e.handleFilterChange(...t)),".placeholder":e.placeholder,".value":e.filterPhrase},null,40,o)):(0,i.g1)("",!0)}]])},6552:function(e,t,n){"use strict";n.d(t,{c:function(){return a}});var i=n(1284);const o=["text"],r=[".items",".columnType"];var s=(0,i._M)({computed:{popupContentHeaderText(){return this.$_localizationService.getLocalization("widgetlist.recentwidgets.header")}},props:{recentItems:{type:Array},columnType:{type:String},showComponent:{type:Boolean}}});var a=(0,n(5772).c)(s,[["render",function(e,t,n,s,a,c){return(0,i.wt)(((0,i.Wz)(),(0,i.An)("div",null,[(0,i.QD)("kentico-popup-content-header",{text:e.popupContentHeaderText},null,8,o),(0,i.QD)("kentico-pop-up-listing",{".items":e.recentItems,".columnType":e.columnType},null,40,r)],512)),[[i.Ub,e.showComponent]])}],["__scopeId","data-v-2a524dc6"]])},4364:function(e,t,n){"use strict";n.d(t,{c:function(){return d}});var i=n(1284);const o=["active","add-button-position",".localizationService",".show-component-list",".addTooltip"];var r=n(7836),s=n(7540),a=n(1220),c=n(5312),l=(0,i._M)({mixins:[r.Cc],data(){return{sectionDividerPosition:null}},computed:{addTooltip(){return this.$_localizationService.getLocalization("section.addTooltip")}},mounted(){this.setDividerButtonPosition(),window.addEventListener("resize",this.setDividerButtonPosition)},methods:{clickedAway(){this.isSectionListOpen&&this.closePopup()},onOpenComponentList({detail:e}){this.isSectionListOpen?this.closePopup():this.openPopup(this.sectionIdentifier,e,this.areaIdentifier)},setDividerButtonPosition(){const e=this.$refs.addSection.parentElement.getBoundingClientRect().left>s.EZ;this.sectionDividerPosition=e?c.GG.Left:c.GG.Right,this.isSectionListOpen&&this.$nextTick((()=>{const e=document.querySelector(".ktc-section-divider[active='true']").shadowRoot.querySelector("kentico-add-component-button[is-active]").getBoundingClientRect(),t=(0,a.Qn)(e,null),n=(0,a.kX)(e);this.setPopupPosition(t,c._4.Bottom,n)}))},beforeUnmount(){window.removeEventListener("resize",this.setDividerButtonPosition)}},props:{sectionIdentifier:{required:!0,type:String},areaIdentifier:{required:!0,type:String},isSectionListOpen:{type:Boolean},closePopup:{type:Function},openPopup:{type:Function},setPopupPosition:{type:Function}}});var d=(0,n(5772).c)(l,[["render",function(e,t,n,r,s,a){const c=(0,i.iS)("click-away");return(0,i.wt)(((0,i.Wz)(),(0,i.An)("kentico-section-divider",{ref:"addSection",active:e.isSectionListOpen,"add-button-position":e.sectionDividerPosition,".localizationService":e.$_localizationService,".show-component-list":e.isSectionListOpen,".addTooltip":e.addTooltip,"on:openComponentList":t[0]||(t[0]=(...t)=>e.onOpenComponentList&&e.onOpenComponentList(...t)),"on:closePopup":t[1]||(t[1]=(...t)=>e.closePopup&&e.closePopup(...t))},null,40,o)),[[c,e.clickedAway]])}]])},9116:function(){}}]);